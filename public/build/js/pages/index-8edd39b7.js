import{g as x}from"./ads-a10c38b9.js";import{_ as y,L as A,B as L,a as S,m as V,u as B,r as c,o as r,c as n,b as e,t as s,d as l,w as u,e as g,F as _,f as $,g as C,h as m}from"../../assets/app-8df99815.js";import{B as P}from"./BaseSelectStatus-48013ca5.js";const M={components:{Loading:A,BaseSelectStatus:P,BaseButton:L,BaseSelect:S},data(){return{selectedStatus:"all",statusList:[{name:this.$t("All"),value:"all"},{name:this.$t("Active"),value:"active"},{name:this.$t("Stop"),value:"stop"},{name:this.$t("Done"),value:"done"}],loadingAdvertising:!0,loadmoreAdvertising:!1,advertisementsList:[],advertisementPage:1,loadingViewMore:!1}},computed:{...V(B,["config"])},mounted(){if(!this.config.advertising.enable)return this.$router.push({name:"permission"});this.getAdvertisingsList(this.selectedStatus,this.advertisementPage)},methods:{async getAdvertisingsList(o,i){this.loadingViewMore=!0;try{const d=await x(o,i);i===1?this.advertisementsList=d.items:this.advertisementsList=window._.concat(this.advertisementsList,d.items),d.has_next_page?(this.loadmoreAdvertising=!0,this.advertisementPage++):this.loadmoreAdvertising=!1,this.loadingAdvertising=!1,this.loadingViewMore=!1}catch(d){this.showError(d.error),this.loadingAdvertising=!1,this.loadingViewMore=!1}},filterAdvertisingsList(){this.advertisementPage=1,this.getAdvertisingsList(this.selectedStatus,this.advertisementPage)}}},N={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},E={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},U={class:"text-main-color text-base-lg font-extrabold dark:text-white"},j={class:"relative overflow-x-auto scrollbar-thin border border-b-0 border-table-border-color md:rounded-md dark:border-white/10"},D={class:"w-full text-sm whitespace-nowrap text-center"},F={class:"text-xs uppercase bg-table-header-color dark:bg-dark-web-wash"},T={scope:"col",class:"p-3 w-10"},z={scope:"col",class:"p-3 text-start"},q={scope:"col",class:"p-3 w-10"},G={scope:"col",class:"p-3 w-10"},H={scope:"col",class:"p-3 w-10"},J={key:0},K={colspan:"5"},O={class:"p-3"},Q={class:"p-3"},R={class:"flex gap-4 justify-between items-center text-start"},W={class:"font-medium"},X={class:"text-base-xs text-sub-color dark:text-slate-400"},Y={class:"p-3"},Z={class:"p-3"},I={class:"p-3"},ee={key:1,class:"border-b border-table-border-color dark:border-gray-700"},te={colspan:"5",class:"p-3"},se={key:0,class:"text-center my-base-2"};function oe(o,i,d,ae,a,p){const h=c("BaseButton"),b=c("BaseSelect"),v=c("Loading"),w=c("BaseSelectStatus"),f=c("router-link");return r(),n("div",N,[e("div",E,[e("h3",U,s(o.$t("Ads")),1),l(h,{to:{name:"advertising_create"}},{default:u(()=>[g(s(o.$t("Create new advertising")),1)]),_:1})]),l(b,{class:"max-w-[240px] mb-base-2",onChange:i[0]||(i[0]=t=>p.filterAdvertisingsList()),modelValue:a.selectedStatus,"onUpdate:modelValue":i[1]||(i[1]=t=>a.selectedStatus=t),options:a.statusList,optionLabel:"name",optionValue:"value",placeholder:o.$t("Status")},null,8,["modelValue","options","placeholder"]),e("div",j,[e("table",D,[e("thead",F,[e("tr",null,[e("th",T,s(o.$t("Action")),1),e("th",z,s(o.$t("Ad")),1),e("th",q,s(o.$t("Views")),1),e("th",G,s(o.$t("Clicks")),1),e("th",H,s(o.$t("Total spent")),1)])]),e("tbody",null,[a.loadingAdvertising?(r(),n("tr",J,[e("td",K,[l(v,{class:"mt-base-2"})])])):(r(),n(_,{key:1},[a.advertisementsList.length?(r(!0),n(_,{key:0},$(a.advertisementsList,t=>(r(),n("tr",{key:t.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b border-table-border-color dark:border-gray-700"},[e("td",O,[l(w,{modelValue:t.status,"onUpdate:modelValue":k=>t.status=k,item:t},null,8,["modelValue","onUpdate:modelValue","item"])]),e("td",Q,[e("div",R,[e("div",null,[e("div",W,[l(f,{to:{name:"advertising_detail",params:{id:t.id}},class:"text-main-color dark:text-white whitespace-normal"},{default:u(()=>[g(s(t.name),1)]),_:2},1032,["to"])]),e("div",X,s(t.created_at),1)]),t.canEdit?(r(),C(h,{key:0,to:{name:"advertising_create",params:{id:t.id}},icon:"pencil",type:"secondary-outlined",size:"sm"},null,8,["to"])):m("",!0)])]),e("td",Y,s(t.view_count),1),e("td",Z,s(t.click_count),1),e("td",I,s(t.total_delivery_amount),1)]))),128)):(r(),n("tr",ee,[e("td",te,s(o.$t("No Advertisings")),1)]))],64))])])]),a.loadmoreAdvertising?(r(),n("div",se,[l(h,{onClick:i[2]||(i[2]=t=>p.getAdvertisingsList(a.selectedStatus,a.advertisementPage)),loading:a.loadingViewMore},{default:u(()=>[g(s(o.$t("View more")),1)]),_:1},8,["loading"])])):m("",!0)])}const de=y(M,[["render",oe]]);export{de as default};
