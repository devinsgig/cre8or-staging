import{_ as i,bC as n,r as c,o as h,c as g,d as u}from"../../assets/app-8df99815.js";import{U as l}from"./UserPagesList-cdf08693.js";const d={components:{UserPagesList:l},props:["search_type","type","query"],data(){return{error:null,queryData:this.query,loadingPages:!0,searchPagesList:[],currentPage:1}},mounted(){this.getSearchPagesList(this.queryData,this.currentPage)},watch:{$route(){this.queryData=window._.isNil(this.$route.query.q)?"":this.$route.query.q,this.currentPage=1,this.queryData&&this.getSearchPagesList(this.queryData,this.currentPage)}},methods:{async getSearchPagesList(s,t){try{const e=await n(this.search_type,s,this.type,t);return this.currentPage===1?this.searchPagesList=e:this.searchPagesList=window._.concat(this.searchPagesList,e),e}catch(e){this.showError(e.error)}finally{this.loadingPages=!1}},loadMorePages(s){this.getSearchPagesList(this.queryData,++this.currentPage).then(t=>{t.length===0?s.complete():s.loaded()})}}},P={class:"bg-white p-base-2 rounded-none md:rounded-base-lg mb-base-2 dark:bg-slate-800"};function p(s,t,e,y,a,r){const o=c("UserPagesList");return h(),g("div",P,[u(o,{loading:a.loadingPages,pagesList:a.searchPagesList,"auto-load-more":!0,onLoadMore:r.loadMorePages},null,8,["loading","pagesList","onLoadMore"])])}const m=i(d,[["render",p]]);export{m as default};
