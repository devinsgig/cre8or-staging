import{_ as D,cU as F,L as U,j as E,cX as N,b0 as P,b1 as z,cY as M,cZ as Y,B as G,b2 as H,a8 as k,m as x,r as c,o as a,g as p,da as Z,w as l,y as Q,u as X,b as e,t,d as i,e as _,c as r,f as g,S as q,F as f,h as u,Q as J}from"../../assets/app-8df99815.js";import{c as K,i as O}from"./ads-a10c38b9.js";import{B as W}from"./BaseSelectStatus-48013ca5.js";const $={props:["id"],components:{FullColumn:F,Loading:U,BaseSelectStatus:W,BaseIcon:E,LinkFetched:N,Avatar:P,UserName:z,VueperSlides:M,VueperSlide:Y,BaseButton:G,ContentHtml:H},data(){return{loadingAdsInfo:!0,adsInfo:null,loadingViewMoreReport:!1,loadingAdvertisingReport:!1,loadmoreAdvertisingReport:!1,advertisementReportsList:[],advertisementReportsPage:1,adsType:"text",adsContent:null,adsMedias:[],adsSharedLink:null,adsUploadedVideo:null,adsUploadedFiles:[],genderText:"",genderId:0,selectedAge:k.AGE_TYPE.ANY,adsAgeFrom:null,adsAgeTo:null,hashtags:[],location:{country_id:null,state_id:null,city_id:null,zip_code:null,address:null,address_full:null},adsStartDate:null,adsEndDate:null,ageTypeAny:k.AGE_TYPE.ANY,ageTypeRange:k.AGE_TYPE.RANGE}},mounted(){if(!this.config.advertising.enable)return this.$router.push({name:"permission"});this.getAdsDetail(this.id),this.getAdsReport(this.id,this.advertisementReportsPage)},computed:{...x(Q,["user"]),...x(X,["config"])},methods:{async getAdsDetail(o){try{const n=await K(o);switch(this.adsInfo=n,this.adsType=this.adsInfo.post.type,this.adsContent=this.adsInfo.post.content,this.genderId=this.adsInfo.gender,this.genderText=this.adsInfo.gender_text,this.selectedAge=this.adsInfo.age_from==0&&this.adsInfo.age_to==0?this.ageTypeAny:this.ageTypeRange,this.adsAgeFrom=this.adsInfo.age_from,this.adsAgeTo=this.adsInfo.age_to,this.hashtags=this.adsInfo.hashtags,this.location.country_id=this.adsInfo.country_id,this.location.state_id=this.adsInfo.state_id,this.location.city_id=this.adsInfo.city_id,this.location.zip_code=this.adsInfo.zip_code,this.location.address=this.adsInfo.address,this.location.address_full=this.adsInfo.address_full,this.adsStartDate=this.adsInfo.start,this.adsEndDate=this.adsInfo.end,this.adsType){case"photo":this.adsMedias=this.adsInfo.post.items;break;case"link":this.adsSharedLink=this.adsInfo.post.items[0];break;case"video":this.adsUploadedVideo=this.adsInfo.post.items[0];break;case"file":this.adsUploadedFiles=this.adsInfo.post.items;break}this.loadingAdsInfo=!1}catch{this.loadingAdsInfo=!1}},async getAdsReport(o,n){this.loadingViewMoreReport=!0;try{const b=await O(o,n);n===1?this.advertisementReportsList=b.items:this.advertisementReportsList=window._.concat(this.advertisementReportsList,b.items),b.has_next_page?(this.loadmoreAdvertisingReport=!0,this.advertisementReportsPage++):this.loadmoreAdvertisingReport=!1,this.loadingAdvertisingReport=!1,this.loadingViewMoreReport=!1}catch{this.loadingAdvertisingReport=!1,this.loadingViewMoreReport=!1}}}},ee={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},se={key:1,class:"flex gap-base-2 justify-between mb-base-2"},te={class:"flex-1"},oe={class:"flex gap-base-2"},ae={class:"font-bold"},ie={class:"feed-item-header-info-date text-xs text-sub-color dark:text-slate-400"},de={class:"relative overflow-x-auto scrollbar-thin border border-b-0 border-table-border-color md:rounded-md dark:border-white/10"},ne={class:"w-full text-sm whitespace-nowrap text-center"},re={class:"text-xs uppercase bg-table-header-color dark:bg-dark-web-wash"},le={scope:"col",class:"p-3 text-start"},ce={scope:"col",class:"p-3 w-10"},he={scope:"col",class:"p-3 w-10"},ue={scope:"col",class:"p-3 w-10"},me={key:0},_e={colspan:"4"},be={class:"p-3"},pe={class:"flex gap-4 justify-between items-center text-start"},fe={class:"font-medium"},ge={class:"text-base-xs text-sub-color dark:text-slate-400"},ve={class:"p-3"},ke={class:"p-3"},we={class:"p-3"},ye={key:1,class:"border-b border-table-border-color dark:border-gray-700"},xe={colspan:"5",class:"p-3"},Ie={key:2,class:"text-center my-base-2"},Ae={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},Se={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},Re={class:"text-main-color text-base-lg font-extrabold dark:text-white"},Ve={class:"feed-item-header flex mb-base-2"},je={class:"feed-item-header-img"},Te={class:"feed-item-header-info flex-grow ps-base-2"},Le={class:"feed-item-header-info-title flex justify-between items-start gap-base-2"},Be={class:"whitespace-normal"},Ce={class:"feed-item-header-info-date text-sub-color text-xs dark:text-slate-400"},De={class:"feed-item-content mb-base-2"},Fe={key:1,class:"relative border border-divider dark:border-slate-700"},Ue={key:2},Ee={class:"relative bg-black"},Ne=["src"],Pe={key:3,class:"flex flex-wrap gap-base-2 mb-base-2"},ze={class:"flex items-center gap-2"},Me={class:"truncate"},Ye={class:"flex flex-col gap-base-2 dark:text-white"},Ge={class:"feed-item-like"},He={class:"feed-main-action flex justify-between border-t border-divider pt-base-2 dark:border-white/10"},Ze={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},Qe={class:"font-semibold mb-base-2"},Xe={class:"flex gap-base-2 justify-between mb-base-2"},qe={class:"text-end"},Je={class:"flex gap-base-2 justify-between mb-base-2"},Ke={class:"text-end"},Oe={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},We={class:"font-semibold mb-base-2"},$e={class:"flex gap-base-2 justify-between mb-base-2"},es={class:"text-end"},ss={class:"flex gap-base-2 justify-between mb-base-2"},ts={class:"text-end"},os={key:0},as={key:1},is={class:"flex gap-base-2 justify-between mb-base-2"},ds={class:"text-end break-word"},ns={key:0,class:"flex gap-base-2 justify-between mb-base-2"},rs={class:"text-end break-word"},ls={class:"flex gap-base-2 justify-between mb-base-2"},cs={class:"text-end break-word"},hs={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},us={class:"font-semibold mb-base-2"},ms={class:"flex gap-base-2 justify-between mb-base-2"},_s={class:"text-end"},bs={class:"flex gap-base-2 justify-between mb-base-2"},ps={class:"text-end"},fs={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},gs={class:"flex gap-base-2 justify-between font-semibold"},vs={class:"text-end"},ks={class:"flex gap-base-2 justify-between"};function ws(o,n,b,ys,s,I){var y;const w=c("Loading"),m=c("BaseIcon"),h=c("router-link"),A=c("BaseSelectStatus"),S=c("BaseButton"),R=c("Avatar"),V=c("UserName"),j=c("ContentHtml"),T=c("VueperSlide"),L=c("VueperSlides"),B=c("LinkFetched"),C=c("FullColumn");return a(),p(C,{"keep-right-column":!0},Z({center:l(()=>[e("div",ee,[s.loadingAdsInfo?(a(),p(w,{key:0})):(a(),r("div",se,[e("div",te,[e("div",oe,[e("span",ae,t(s.adsInfo.name),1),s.adsInfo.canEdit?(a(),p(h,{key:0,to:{name:"advertising_create",params:{id:s.adsInfo.id}},class:"h-6 text-inherit flex items-center self-start"},{default:l(()=>[i(m,{name:"pencil",size:"16"})]),_:1},8,["to"])):u("",!0)]),e("div",ie,t(s.adsInfo.created_at),1)]),i(A,{modelValue:s.adsInfo.status,"onUpdate:modelValue":n[0]||(n[0]=d=>s.adsInfo.status=d),item:s.adsInfo},null,8,["modelValue","item"])])),e("div",de,[e("table",ne,[e("thead",re,[e("tr",null,[e("th",le,t(o.$t("Date")),1),e("th",ce,t(o.$t("Views")),1),e("th",he,t(o.$t("Clicks")),1),e("th",ue,t(o.$t("Total spent")),1)])]),e("tbody",null,[s.loadingAdvertisingReport?(a(),r("tr",me,[e("td",_e,[i(w,{class:"mt-base-2"})])])):(a(),r(f,{key:1},[s.advertisementReportsList.length?(a(!0),r(f,{key:0},g(s.advertisementReportsList,d=>(a(),r("tr",{key:d.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b border-table-border-color dark:border-gray-700"},[e("td",be,[e("div",pe,[e("div",null,[e("div",fe,t(d.date),1),e("div",ge,t(d.created_at),1)])])]),e("td",ve,t(d.view_count),1),e("td",ke,t(d.click_count),1),e("td",we,t(d.total_amount),1)]))),128)):(a(),r("tr",ye,[e("td",xe,t(o.$t("No Reports")),1)]))],64))])])]),s.loadmoreAdvertisingReport?(a(),r("div",Ie,[i(S,{onClick:n[1]||(n[1]=d=>I.getAdsReport(b.id,s.advertisementReportsPage)),loading:s.loadingViewMoreReport},{default:l(()=>[_(t(o.$t("View more")),1)]),_:1},8,["loading"])])):u("",!0)])]),_:2},[(y=s.adsInfo)!=null&&y.post?{name:"right",fn:l(()=>[e("div",Ae,[e("div",Se,[e("h3",Re,t(o.$t("Ad Summary")),1)]),e("div",null,[e("div",Ve,[e("div",je,[i(R,{user:o.user,activePopover:!1,router:!1},null,8,["user"])]),e("div",Te,[e("div",Le,[e("div",Be,[i(V,{user:o.user,truncate:!1,activePopover:!1,router:!1},null,8,["user"])]),i(h,{to:{name:"post",params:{id:s.adsInfo.post.id}}},{default:l(()=>[i(m,{name:"more_horiz_outlined",size:"20",class:"feed-item-dropdown text-sub-color dark:text-slate-400"})]),_:1},8,["to"])]),e("span",Ce,[i(h,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"text-inherit"},{default:l(()=>[_(t(s.adsInfo.created_at),1)]),_:1},8,["to"])])])]),e("div",De,[i(j,{content:s.adsContent,mentions:s.adsInfo.post.mentions},null,8,["content","mentions"]),s.adsMedias.length?(a(),p(L,{key:0,"slide-ratio":o.aspectRatioImage(s.adsMedias[0].subject.params),infinite:!1,arrows:!0,bullets:!1,"disable-arrows-on-edges":"",rtl:!!o.user.rtl,touchable:!1,gap:5,class:"activity_content_photos_list no-shadow"},{"arrow-left":l(()=>n[2]||(n[2]=[e("div",{class:"arrow_slider arrow_slider_left"},null,-1)])),"arrow-right":l(()=>n[3]||(n[3]=[e("div",{class:"arrow_slider arrow_slider_right"},null,-1)])),default:l(()=>[(a(!0),r(f,null,g(s.adsMedias,(d,v)=>(a(),p(T,{key:d.id,class:"cursor-pointer bg-no-repeat",style:q({backgroundColor:`${d.subject.params.dominant_color?d.subject.params.dominant_color:"#000"}`}),image:d.subject.url,onClick:xs=>o.clickPhotoImage(v)},null,8,["style","image","onClick"]))),128))]),_:1},8,["slide-ratio","rtl"])):u("",!0),s.adsSharedLink?(a(),r("div",Fe,[i(B,{postItemsList:[s.adsSharedLink]},null,8,["postItemsList"])])):u("",!0),s.adsUploadedVideo?(a(),r("div",Ue,[e("div",Ee,[e("img",{class:J(["w-full",o.aspectRatioVideo(s.adsUploadedVideo.subject.thumb.params)=="horizontal"?"":"max-w-[200px] mx-auto"]),src:s.adsUploadedVideo.subject.thumb.url},null,10,Ne)])])):u("",!0),s.adsUploadedFiles.length?(a(),r("div",Pe,[(a(!0),r(f,null,g(s.adsUploadedFiles,d=>(a(),r("div",{key:d.id,class:"bg-white text-inherit border border-divider px-base-2 py-2 rounded-1000 relative max-w-[200px] dark:bg-dark-web-wash dark:border-slate-700"},[e("div",ze,[i(m,{name:"file"}),e("span",Me,t(d.subject.name),1)])]))),128))])):u("",!0)]),e("div",Ye,[e("div",Ge,[i(h,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"feed-item-like-text inline-block text-inherit dark:text-white"},{default:l(()=>[_(t(o.$filters.numberShortener(s.adsInfo.post.like_count,o.$t("[number] like"),o.$t("[number] likes"))),1)]),_:1},8,["to"]),n[4]||(n[4]=_(" · ")),i(h,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"feed-item-like-text inline-block text-inherit dark:text-white"},{default:l(()=>[_(t(o.$filters.numberShortener(s.adsInfo.post.comment_count,o.$t("[number] comment"),o.$t("[number] comments"))),1)]),_:1},8,["to"]),n[5]||(n[5]=_(" · ")),i(h,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"feed-item-like-text inline-block text-inherit dark:text-white"},{default:l(()=>[_(t(o.$filters.numberShortener(s.adsInfo.post.view_count,o.$t("[number] view"),o.$t("[number] views"))),1)]),_:1},8,["to"])]),e("div",He,[i(h,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"text-inherit"},{default:l(()=>[i(m,{name:"heart"})]),_:1},8,["to"]),i(h,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"text-inherit"},{default:l(()=>[i(m,{name:"comment"})]),_:1},8,["to"]),i(h,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"text-inherit"},{default:l(()=>[i(m,{name:"share"})]),_:1},8,["to"]),i(h,{to:{name:"post",params:{id:s.adsInfo.post.id}},class:"text-inherit"},{default:l(()=>[i(m,{name:"bookmarks"})]),_:1},8,["to"])])]),e("div",Ze,[e("div",Qe,t(o.$t("Date")),1),e("div",Xe,[e("div",null,t(o.$t("Start Date")),1),e("div",qe,t(s.adsStartDate),1)]),e("div",Je,[e("div",null,t(o.$t("End Date")),1),e("div",Ke,t(s.adsEndDate),1)])]),e("div",Oe,[e("div",We,t(o.$t("Demographics & Targeting features")),1),e("div",$e,[e("div",null,t(o.$t("Gender")),1),e("div",es,t(s.genderText),1)]),e("div",ss,[e("div",null,t(o.$t("Age")),1),e("div",ts,[s.selectedAge==s.ageTypeAny?(a(),r("span",os,t(o.$t("Any")),1)):u("",!0),s.selectedAge==s.ageTypeRange?(a(),r("span",as,t(s.adsAgeFrom+"-"+s.adsAgeTo),1)):u("",!0)])]),e("div",is,[e("div",null,t(o.$t("Hashtags")),1),e("div",ds,[(a(!0),r(f,null,g(s.hashtags,(d,v)=>(a(),r("span",{key:d.name},t("#"+d.name+(v==s.hashtags.length-1?"":", ")),1))),128))])]),s.location.address_full?(a(),r("div",ns,[e("div",null,t(o.$t("Locations")),1),e("div",rs,t(s.location.address_full),1)])):u("",!0),e("div",ls,[e("div",null,t(o.$t("Daily budget")),1),e("div",cs,t(s.adsInfo.daily_amount),1)])]),e("div",hs,[e("div",us,t(o.$t("Payment summary")),1),e("div",ms,[e("div",null,t(o.$t("Total budget")),1),e("div",_s,t(s.adsInfo.total_amount),1)]),e("div",bs,[e("div",null,t(o.$t("Spent Amount")),1),e("div",ps,t(s.adsInfo.total_delivery_amount),1)])]),e("div",fs,[e("div",gs,[e("div",null,t(o.$t("Available Amount")),1),e("div",vs,t(s.adsInfo.total_available_amount),1)]),e("div",ks,[e("div",null,t(o.$t("VAT"))+" ("+t(s.adsInfo.vat)+"%)",1)])])])])]),key:"0"}:void 0]),1024)}const Rs=D($,[["render",ws]]);export{Rs as default};
