import{_ as c,T as h,l as d,M as _,r as i,o as r,c as a,d as m,w as b,h as u,g as l,N as f,F as C,e as M,t as T}from"../../assets/app-8df99815.js";import v from"./GroupInsights-0992a468.js";import w from"./GroupManageMembers-e50dee31.js";import S from"./GroupManagePosts-120abe82.js";import A from"./GroupManageSettings-bab2e1b0.js";import"./chart.esm-17c946be.js";import"./GroupMembersList-c38b600c.js";import"./AddModeratorsModal-1a65fd1b.js";import"./PendingPostsList-701fede9.js";import"./SkeletonPostsList-68921a0e.js";import"./BaseCalendar-e4a0da98.js";import"./index.esm-3350796f.js";import"./BaseSwitch-3591db5b.js";const k={props:["id","tab","sub_tab"],components:{TabsMenu:h},data(){return{currentTab:this.tab?this.tab:"",adminConfig:null}},computed:{groupReportMenus(){var e,t;return[{icon:"info",name:this.$t("Insights"),isShow:!0,isActive:this.currentTab==="",tab:""},{icon:"users",name:this.$t("Manage Members"),isShow:!0,isActive:this.currentTab==="groups_manage_members",tab:"groups_manage_members",badge:this.shortenNumber((e=this.adminConfig)==null?void 0:e.member_request_count)},{icon:"feeds",name:this.$t("Manage Posts"),isShow:!0,isActive:this.currentTab==="groups_manage_posts",tab:"groups_manage_posts",badge:this.shortenNumber((t=this.adminConfig)==null?void 0:t.post_pending_count)},{icon:"notification",name:this.$t("Settings"),isShow:!0,isActive:this.currentTab==="groups_manage_settings",tab:"groups_manage_settings"}]},groupComponent(){switch(this.currentTab){case"groups_manage_members":return w;case"groups_manage_posts":return S;case"groups_manage_settings":return A;default:return v}}},watch:{adminConfig(e){if(e.group.status!=="active")return this.$router.push({name:"permission"})}},mounted(){this.handleGetAdminConfig(this.id)},methods:{changeTab(e){this.currentTab=e;let t=this.$router.resolve({name:"groups_manage",params:{id:this.id}});d(t.fullPath+(e!=""?"/"+e:""))},async handleGetAdminConfig(e){try{const t=await _(e);this.adminConfig=t}catch{this.$router.push({name:"permission"})}}}},x={key:0,class:"page-title mb-base-2 truncate"};function G(e,t,o,y,n,s){const g=i("router-link"),p=i("TabsMenu");return r(),a(C,null,[n.adminConfig?(r(),a("h1",x,[m(g,{to:{name:"group_profile",params:{id:n.adminConfig.group.id,slug:n.adminConfig.group.slug}},class:"text-inherit"},{default:b(()=>[M(T(n.adminConfig.group.name),1)]),_:1},8,["to"])])):u("",!0),m(p,{menus:s.groupReportMenus,onSelect:s.changeTab},null,8,["menus","onSelect"]),n.adminConfig&&n.adminConfig.group.status==="active"?(r(),l(f(s.groupComponent),{key:1,"admin-config":n.adminConfig,"sub-tab":o.sub_tab,onUpdated:t[0]||(t[0]=N=>s.handleGetAdminConfig(o.id))},null,40,["admin-config","sub-tab"])):u("",!0)],64)}const J=c(k,[["render",G]]);export{J as default};
