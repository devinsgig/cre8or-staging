import{_ as u,s as m,j as h,r as n,o as a,c as o,d as c,F as f,f as _,b as d,t as C,h as b}from"../../assets/app-8df99815.js";import{S as x}from"./SelectCategoriesModal-c855a87b.js";const k={components:{BaseInputText:m,BaseIcon:h},props:{modelValue:{type:Array,default:()=>[]},type:{type:String,default:"page"},error:{type:String,default:null}},data(){return{categories:this.modelValue}},watch:{categories(e){this.$emit("update:modelValue",e.map(t=>t.id))}},methods:{handleClickCategoriesInput(){this.$dialog.open(x,{data:{categoriesData:{selected_category_ids:this.categories.map(e=>e.id),subject_type:this.type}},props:{header:this.$t("Select Categories"),class:"select-categories-modal",modal:!0,dismissableMask:!0,draggable:!1},onClose:e=>{e.data&&(this.categories=e.data.selectedCategoriesList)}})},deleteSelectedCategories(e){this.categories=this.categories.filter(r=>r.id!==e.id);var t=e.childs;t&&t.length&&(this.categories=window._.differenceBy(this.categories,t,"id"))}},emits:["update:modelValue"]},B={key:0,class:"flex flex-wrap gap-2 mt-base-2"},y={class:"font-bold text-xs me-2"},S=["onClick"];function I(e,t,r,v,i,l){const p=n("BaseInputText"),g=n("BaseIcon");return a(),o("div",null,[c(p,{placeholder:e.$t("Select categories"),onClick:t[0]||(t[0]=s=>l.handleClickCategoriesInput()),error:r.error},null,8,["placeholder","error"]),i.categories.length>0?(a(),o("div",B,[(a(!0),o(f,null,_(i.categories,s=>(a(),o("div",{key:s.id,class:"text-sub-color inline-flex items-center rounded-base px-base-2 py-2 border border-secondary-box-color dark:text-slate-400 dark:border-white/30"},[d("span",y,C(s.name),1),d("button",{onClick:V=>l.deleteSelectedCategories(s),class:"leading-none"},[c(g,{name:"close",size:"16"})],8,S)]))),128))])):b("",!0)])}const N=u(k,[["render",I]]);export{N as B};
