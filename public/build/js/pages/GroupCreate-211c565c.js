import{_ as f,B,s as v,v as y,m as C,dc as V,a8 as S,r as l,o as i,c as u,b as o,t as a,d as n,F as x,f as w,h as k,w as E,$ as T,y as G,e as I}from"../../assets/app-8df99815.js";import{B as N}from"./BaseSelectCategories-45446819.js";import{B as P}from"./BaseSelectHashtags-4e8385d1.js";import{B as R}from"./BaseRadio-b63270a2.js";import"./SelectCategoriesModal-c855a87b.js";const H={components:{BaseButton:B,BaseInputText:v,BaseTextarea:y,BaseSelectCategories:N,BaseSelectHashtags:P,BaseRadio:R},data(){return{loadingCreate:!1,name:null,description:null,categories:[],hashtags:[],groupType:0,typesList:[{value:0,label:this.$t("Public Group"),description:this.$t("Everyone can join")},{value:1,label:this.$t("Closed Group"),description:this.$t("Everyone can join but need approval from admins. Private groups can't be changed to public to protect the privacy of group members")}],error:{name:null,description:null,categories:null,hashtags:null,type:null}}},computed:{...C(G,["user"])},methods:{async handleCreateGroup(){this.loadingCreate=!0;try{const s=await V({name:this.name,user_name:this.user_name,description:this.description,categories:this.categories,hashtags:this.hashtags.map(r=>r.name),type:this.groupType});s.status==="pending"?(this.$router.push({name:"list_groups"}),this.showSuccess(this.$t("Your group is pending for approval."))):(this.$router.push({name:"group_profile",params:{id:s.id,slug:s.slug}}),this.showSuccess(this.$t("Your group has been created."))),this.resetErrors(this.error)}catch(s){s.error.code==S.RESPONSE_CODE_MEMBERSHIP_PERMISSION?this.showPermissionPopup("group",s.error.message):this.handleApiErrors(this.error,s)}finally{this.loadingCreate=!1}}}},U={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},M={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},j={class:"text-main-color text-base-lg font-extrabold dark:text-white"},D={class:"mb-2"},L={class:"block mb-1"},O={class:"mb-2"},A={class:"block mb-1"},F={class:"mb-2"},Y={class:"block mb-1"},$={class:"mb-2"},q={class:"block mb-1"},z={class:"mb-2"},J={class:"block mb-1"},K={class:"flex flex-col gap-1"},Q=["for"],W={class:"leading-5"},X={class:"text-sub-color text-base-xs dark:text-slate-400"},Z={key:0,class:"p-error"};function ee(s,r,se,oe,e,p){const d=l("BaseInputText"),c=l("BaseTextarea"),m=l("BaseSelectCategories"),h=l("BaseSelectHashtags"),g=l("BaseRadio"),b=l("BaseButton");return i(),u("div",U,[o("div",M,[o("h3",j,a(s.$t("Create New Group")),1)]),o("form",{onSubmit:r[5]||(r[5]=T((...t)=>p.handleCreateGroup&&p.handleCreateGroup(...t),["prevent"]))},[o("div",D,[o("label",L,a(s.$t("Group Name")),1),n(d,{modelValue:e.name,"onUpdate:modelValue":r[0]||(r[0]=t=>e.name=t),placeholder:s.$t("Please enter group name"),error:e.error.name},null,8,["modelValue","placeholder","error"])]),o("div",O,[o("label",A,a(s.$t("Description")),1),n(c,{modelValue:e.description,"onUpdate:modelValue":r[1]||(r[1]=t=>e.description=t),placeholder:s.$t("Enter group description"),error:e.error.description},null,8,["modelValue","placeholder","error"])]),o("div",F,[o("label",Y,a(s.$t("Categories")),1),n(m,{modelValue:e.categories,"onUpdate:modelValue":r[2]||(r[2]=t=>e.categories=t),type:"group",error:e.error.categories},null,8,["modelValue","error"])]),o("div",$,[o("label",q,a(s.$t("Hashtags")),1),n(h,{modelValue:e.hashtags,"onUpdate:modelValue":r[3]||(r[3]=t=>e.hashtags=t),error:e.error.hashtags},null,8,["modelValue","error"])]),o("div",z,[o("label",J,a(s.$t("Group Type")),1),o("div",K,[(i(!0),u(x,null,w(e.typesList,t=>(i(),u("div",{key:t.value,class:"flex gap-3"},[n(g,{modelValue:e.groupType,"onUpdate:modelValue":r[4]||(r[4]=_=>e.groupType=_),inputId:t.value.toString(),name:"group_type",value:t.value,error:e.error.type},null,8,["modelValue","inputId","value","error"]),o("label",{for:t.value},[o("div",W,a(t.label),1),o("div",X,a(t.description),1)],8,Q)]))),128))]),e.error?(i(),u("small",Z,a(e.error.type),1)):k("",!0)]),n(b,{class:"w-full",loading:e.loadingCreate},{default:E(()=>[I(a(s.$t("Continue")),1)]),_:1},8,["loading"])],32)])}const ie=f(H,[["render",ee]]);export{ie as default};
