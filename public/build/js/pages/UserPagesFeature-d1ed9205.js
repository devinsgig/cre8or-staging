import{B as h,m as n,W as B,cR as $,ad as m,a8 as F,_ as f,y as k,u as c,r as d,o as b,c as w,b as s,t as o,d as u,w as _,e as y,F as I,a as S,p as v,cS as C}from"../../assets/app-8df99815.js";const M={components:{BaseButton:h},inject:["dialogRef"],data(){return{packageInfo:this.dialogRef.data.packageInfo}},computed:{...n(k,["user"]),...n(c,["config"])},methods:{async handleClickFeaturePage(){const e=this.$dialog.open(B,{props:{header:this.$t("Enter Password"),class:"password-modal",modal:!0,dismissableMask:!0,draggable:!1},emits:{onConfirm:async a=>{if(a.password)try{await $({package_id:this.packageInfo.id,password:a.password}),this.showSuccess(this.$t("Feature Successfully.")),this.dialogRef.close(),e.close(),m(),window.location.href=window.siteConfig.siteUrl+"/"+F.MENTION+this.user.user_name}catch(i){this.showError(i.error),e.close(),m()}}}})}}};function E(e,a,i,P,t,r){const l=d("BaseButton");return b(),w(I,null,[s("div",null,o(e.$t("Featured your page with")+" "+t.packageInfo.description),1),s("div",null,o(e.$t("Your current balance")+": "+e.user.wallet_balance+" "+e.config.wallet.tokenName),1),s("div",null,o(e.$t("Donâ€™t forget to deposit to update your balance to make sure that subscription is active")),1),u(l,{class:"mt-base-2 w-full",onClick:a[0]||(a[0]=g=>r.handleClickFeaturePage(t.packageInfo.id))},{default:_(()=>[y(o(e.$t("Featured now!")),1)]),_:1})],64)}const L=f(M,[["render",E]]),N={components:{BaseSelect:S,BaseButton:h},data(){return{pagePackagesList:[],selectedPackage:null}},computed:{...n(k,["user"]),...n(c,["config","darkmode","systemMode"]),featureImageSrc(){return this.darkmode==="on"?this.config.user_page.featureImageDark:this.darkmode==="off"?this.config.user_page.featureImage:this.systemMode==="dark"?this.config.user_page.featureImageDark:this.systemMode==="light"?this.config.user_page.featureImage:null}},mounted(){this.user.is_page?this.getPackagesList():this.setErrorLayout(!0)},methods:{...v(c,["setErrorLayout"]),async getPackagesList(){try{const e=await C();this.pagePackagesList=e}catch(e){this.showError(e.error)}},handleClickFeaturePage(){if(!this.config.wallet.enable){this.showError(this.$t("The eWallet system is not available at this time."));return}this.$dialog.open(L,{data:{packageInfo:this.selectedPackage},props:{header:this.$t("Featured page"),modal:!0,dismissableMask:!0,draggable:!1}})}}},V={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},D={class:"text-center"},x={class:"text-base-lg font-extrabold mb-base-1"},R={class:"mb-base-2"},A=["src"];function T(e,a,i,P,t,r){const l=d("BaseSelect"),g=d("BaseButton");return b(),w("div",V,[s("div",D,[s("h3",x,o(e.$t("Help People more Ealisy Connect with Your Business")),1),s("p",R,o(e.$t("Get your page featured and get discovered by thousand of users on site.")),1),u(l,{class:"mb-base-2 max-w-[240px] mx-auto",modelValue:t.selectedPackage,"onUpdate:modelValue":a[0]||(a[0]=p=>t.selectedPackage=p),options:t.pagePackagesList,optionLabel:"description",placeholder:e.$t("Select a package"),emptyMessage:e.$t("No packages found")},null,8,["modelValue","options","placeholder","emptyMessage"]),u(g,{class:"mb-base-2",onClick:a[1]||(a[1]=p=>r.handleClickFeaturePage()),disabled:!t.selectedPackage},{default:_(()=>[y(o(e.$t("Featured now!")),1)]),_:1},8,["disabled"]),s("div",null,[s("img",{src:r.featureImageSrc,alt:"featureImage",class:"mx-auto"},null,8,A)])])])}const W=f(N,[["render",T]]);export{W as default};
