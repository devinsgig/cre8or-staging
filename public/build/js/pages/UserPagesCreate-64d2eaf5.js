import{_ as h,B as g,s as _,v as b,m as B,p as f,cF as V,a8 as C,r as n,o as S,c as w,b as o,t as a,d as l,w as P,$ as E,y as k,u as v,e as x}from"../../assets/app-8df99815.js";import{B as y}from"./BaseSelectCategories-45446819.js";import{B as N}from"./BaseSelectHashtags-4e8385d1.js";import"./SelectCategoriesModal-c855a87b.js";const T={components:{BaseButton:g,BaseInputText:_,BaseTextarea:b,BaseSelectCategories:y,BaseSelectHashtags:N},data(){return{loadingCreate:!1,name:null,user_name:null,description:null,categories:[],hashtags:[],error:{name:null,user_name:null,description:null,categories:null,hashtags:null}}},computed:{...B(k,["user"])},mounted(){this.user.is_page&&this.setErrorLayout(!0)},methods:{...f(v,["setErrorLayout"]),async handleCreatePage(){this.loadingCreate=!0;try{const e=await V({name:this.name,user_name:this.user_name,description:this.description,categories:this.categories,hashtags:this.hashtags.map(r=>r.name)});this.$router.push({name:"profile",params:{user_name:e.user_name}}),this.showSuccess(this.$t("Your page has been created.")),this.resetErrors(this.error)}catch(e){e.error.code==C.RESPONSE_CODE_MEMBERSHIP_PERMISSION?this.showPermissionPopup("user_page",e.error.message):this.showError(e.error)}finally{this.loadingCreate=!1}}}},U={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},I={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},H={class:"text-main-color text-base-lg font-extrabold dark:text-white"},A={class:"mb-2"},M={class:"block mb-1"},D={class:"mb-2"},O={class:"block mb-1"},R={class:"mb-2"},L={class:"block mb-1"},j={class:"mb-2"},F={class:"block mb-1"},Y={class:"mb-2"},q={class:"block mb-1"};function z(e,r,G,J,s,i){const m=n("BaseInputText"),d=n("BaseTextarea"),u=n("BaseSelectCategories"),c=n("BaseSelectHashtags"),p=n("BaseButton");return S(),w("div",U,[o("div",I,[o("h3",H,a(e.$t("Create New Page")),1)]),o("form",{onSubmit:r[5]||(r[5]=E((...t)=>i.handleCreatePage&&i.handleCreatePage(...t),["prevent"]))},[o("div",A,[o("label",M,a(e.$t("Page Name")),1),l(m,{modelValue:s.name,"onUpdate:modelValue":r[0]||(r[0]=t=>s.name=t),placeholder:e.$t("Please enter page name"),error:s.error.name},null,8,["modelValue","placeholder","error"])]),o("div",D,[o("label",O,a(e.$t("Page Alias")),1),l(m,{modelValue:s.user_name,"onUpdate:modelValue":r[1]||(r[1]=t=>s.user_name=t),placeholder:e.$t("Please enter page alias"),error:s.error.user_name},null,8,["modelValue","placeholder","error"])]),o("div",R,[o("label",L,a(e.$t("Description")),1),l(d,{modelValue:s.description,"onUpdate:modelValue":r[2]||(r[2]=t=>s.description=t),placeholder:e.$t("Enter page description"),error:s.error.description},null,8,["modelValue","placeholder","error"])]),o("div",j,[o("label",F,a(e.$t("Categories")),1),l(u,{modelValue:s.categories,"onUpdate:modelValue":r[3]||(r[3]=t=>s.categories=t),error:s.error.categories},null,8,["modelValue","error"])]),o("div",Y,[o("label",q,a(e.$t("Hashtags")),1),l(c,{modelValue:s.hashtags,"onUpdate:modelValue":r[4]||(r[4]=t=>s.hashtags=t),error:s.error.hashtags},null,8,["modelValue","error"])]),l(p,{class:"w-full",loading:s.loadingCreate},{default:P(()=>[x(a(e.$t("Continue")),1)]),_:1},8,["loading"])],32)])}const Z=h(T,[["render",z]]);export{Z as default};
