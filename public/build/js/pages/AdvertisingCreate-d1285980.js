import{_ as Q,cT as $,cU as ee,cV as se,s as te,j as oe,b0 as ae,b1 as ie,cW as de,B as re,cX as ne,L as le,cY as he,cZ as ce,c_ as ue,c$ as me,d0 as pe,d1 as ge,d2 as be,d3 as fe,a8 as k,m as F,p as _e,d4 as ve,d5 as ye,d6 as x,d7 as we,d8 as ke,d9 as Ue,W as Ie,r as u,o as d,g as v,w as g,y as Te,u as P,c as n,b as t,t as a,d as r,e as y,h as c,Q as L,b4 as Ae,F as w,f as I,S as j,$ as B}from"../../assets/app-8df99815.js";import{c as Ve,d as xe,e as Se,f as Ee,h as De}from"./ads-a10c38b9.js";import{B as Le}from"./BaseCalendar-e4a0da98.js";import{B as Ce}from"./BaseSelectLocation-a004491b.js";import{B as Fe}from"./BaseRadio-b63270a2.js";import{B as Pe}from"./BaseSelectHashtags-4e8385d1.js";import"./index.esm-3350796f.js";const je={props:["id"],components:{Draggable:$,FullColumn:ee,Mentionable:se,BaseInputText:te,BaseCalendar:Le,BaseSelectLocation:Ce,BaseIcon:oe,Avatar:ae,UserName:ie,InfoTooltip:de,BaseButton:re,BaseRadio:Fe,LinkFetched:ne,Loading:le,VueperSlides:he,VueperSlide:ce,EmojiPicker:ue,ProgressBar:me,WordCounter:pe,UploadImages:ge,UploadVideo:be,UploadFiles:fe,BaseSelectHashtags:Pe},data(){return{ageTypeAny:k.AGE_TYPE.ANY,ageTypeRange:k.AGE_TYPE.RANGE,adsConfig:null,adsInfo:null,adsType:"text",adsName:"",adsContent:"",adsMedias:[],adsSavedLink:[],adsLoadingFetchLink:!1,adsSharedLink:null,adsUploadedVideo:null,adsLoadingUploadFiles:[],adsUploadedFiles:[],genderId:0,selectedAge:k.AGE_TYPE.ANY,adsAgeFrom:null,adsAgeTo:null,hashtags:[],hashtagsList:[],location:{country_id:null,state_id:null,city_id:null,zip_code:null,address:null,address_full:null},error:{name:null,content:null,daily_amount:null,start:null,end:null,age_from:null,age_to:null,items:null,country_id:null,state_id:null,city_id:null,zip_code:null,address:null,address_full:null,hashtags:null},adsStartDate:0,adsEndDate:0,adsAmount:0,showUploadImage:!0,showUploadVideo:!1,showUploadFile:!1,videoUploadProgress:0}},computed:{...F(Te,["user"]),...F(P,["config"]),adsInfoRendered(){return!this.id||this.id&&this.adsInfo},baseUrl(){return window.siteConfig.siteUrl},genderName(){var o;const e=(o=this.adsConfig)==null?void 0:o.genders.find(l=>l.id===this.genderId);return e?e.name:this.$t("All")}},watch:{selectedAge(){switch(this.selectedAge){case this.ageTypeAny:this.adsAgeFrom=this.adsAgeTo=null;break}}},mounted(){if(!this.config.advertising.enable)return this.$router.push({name:"permission"});this.getAdvertisingConfig(),this.id&&this.getAdsDetailEdit(this.id).then(()=>{this.checkType()}),this.showUploadVideo=this.config.ffmegEnable,this.showUploadFile=this.config.postUploadFileEnable},methods:{..._e(P,["setErrorLayout"]),async getAdsDetailEdit(e){try{const o=await Ve(e);switch(this.adsInfo=o,this.adsType=this.adsInfo.post.type,this.adsName=this.adsInfo.name,this.adsContent=ve(this.adsInfo.post.content),this.genderId=this.adsInfo.gender,this.selectedAge=this.adsInfo.age_from==0&&this.adsInfo.age_to==0?this.ageTypeAny:this.ageTypeRange,this.adsAgeFrom=this.adsInfo.age_from?this.adsInfo.age_from:0,this.adsAgeTo=this.adsInfo.age_to?this.adsInfo.age_to:0,this.hashtags=this.adsInfo.hashtags,this.location.country_id=this.adsInfo.country_id,this.location.state_id=this.adsInfo.state_id,this.location.city_id=this.adsInfo.city_id,this.location.zip_code=this.adsInfo.zip_code,this.location.address=this.adsInfo.address,this.location.address_full=this.adsInfo.address_full,this.adsStartDate=this.adsInfo.start,this.adsEndDate=this.adsInfo.end,this.adsType){case"photo":this.adsMedias=o.post.items;break;case"link":this.adsSharedLink=o.post.items[0];break;case"video":this.adsUploadedVideo=o.post.items[0];break;case"file":this.adsUploadedFiles=o.post.items;break}}catch{this.setErrorLayout(!0)}},async getAdvertisingConfig(){try{const e=await xe();this.adsConfig=e}catch(e){this.showError(e.error)}},checkType(){this.adsMedias.length?this.adsType="photo":this.adsUploadedVideo?this.adsType="video":this.adsSharedLink?this.adsType="link":this.adsUploadedFiles.length?this.adsType="file":this.adsType="text",this.showUploadVideo=!1,window._.includes(["text"],this.adsType)&&this.config.ffmegEnable&&(this.showUploadVideo=!0),this.showUploadFile=!1,window._.includes(["text","file"],this.adsType)&&this.config.postUploadFileEnable&&(this.showUploadFile=!0),this.showUploadImage=!1,window._.includes(["file","video","link"],this.adsType)||(this.showUploadImage=!0)},async uploadImages(e){this.startUploadImages(e.target.files)},async pasteImage(e){this.startUploadImages(e.clipboardData.items,!0)},async startUploadImages(e,o){typeof o>"u"&&(o=!1);for(var l=0;l<e.length;l++)if(!(o&&e[l].type.indexOf("image")==-1)){var b=!0;if(o||(b=this.checkUploadedData(e[l])),b){let _=new FormData;var s=e[l];o&&(s=e[l].getAsFile());var h=await this.convertImage(s);_.append("file",h,s.name);try{const m=await ye(_);this.adsMedias.push(m),this.checkType()}catch(m){this.showError(m.error),this.$refs.imagesUploadStatus.reset()}}}this.$refs.imagesUploadStatus.reset()},async removeImage(e){try{e.post_id==0&&await x({id:e.id}),this.adsMedias=this.adsMedias.filter(o=>o.id!==e.id),this.checkType(),this.$refs.imagesUploadStatus.reset()}catch(o){this.showError(o.error)}},uploadVideo(e){this.startUploadVideo(e.target.files)},async startUploadVideo(e){for(var o=0;o<e.length;o++)if(this.checkUploadedData(e[o],"video")){this.adsUploadedVideo&&this.removeUploadedVideo(this.adsUploadedVideo);let l=new FormData;l.append("file",e[o]),l.append("is_converted",1);const b=s=>{const h=Math.round(s.loaded*100/s.total);this.videoUploadProgress=h};try{const s=await we(l,b);this.adsUploadedVideo=s,this.checkType(),this.videoUploadProgress=0}catch(s){typeof s=="object"?s.error.code==k.RESPONSE_CODE_MEMBERSHIP_PERMISSION?this.showPermissionPopup("post",s.error.message):this.showError(s.error):this.showError(this.$t("Upload Failed.")),this.$refs.videoUploadStatus.reset(),this.videoUploadProgress=0}}this.$refs.videoUploadStatus.reset()},async removeUploadedVideo(e){try{e.post_id==0&&await x({id:e.id}),this.adsUploadedVideo=null,this.checkType(),this.videoUploadProgress=0}catch(o){this.showError(o.error)}},uploadFiles(e){this.startUploadFile(e.target.files)},async startUploadFile(e){for(var o=0;o<e.length;o++)if(this.checkUploadedData(e[o],"post")){let l=new FormData;l.append("file",e[o]),this.adsLoadingUploadFiles.unshift(o);try{const b=await ke(l);this.adsUploadedFiles.push(b),this.checkType(),this.adsLoadingUploadFiles.shift()}catch(b){this.showError(b.error),this.adsLoadingUploadFiles.shift(),this.$refs.fileUploadStatus.reset()}}this.$refs.fileUploadStatus.reset()},async removeUploadedFile(e){try{e.post_id==0&&await x({id:e.id}),this.adsUploadedFiles=this.adsUploadedFiles.filter(o=>o.id!==e.id),this.checkType(),this.$refs.fileUploadStatus.reset()}catch(o){this.showError(o.error)}},preventPhotosListDrag(e){e.preventDefault(),e.stopPropagation()},endDraggingPhotos(e){this.setEventDragDrop(e)},getUrlFromText(e){let o=e.match(k.LINK_REGEX);if(o){let l=o.filter(b=>!this.adsSavedLink.includes(b));if(l.length>0)return l[0].charAt(0).toLowerCase()+l[0].slice(1)}},async fetchLink(e){let o=this.getUrlFromText(e);if(this.adsType=="text"&&o&&(o.substring(0,7)=="http://"||o.substring(0,8)=="https://"||o.substring(0,4)=="www.")){this.adsLoadingFetchLink=!0;try{const l=await Ue({url:o});this.adsSharedLink=l,this.adsLoadingFetchLink=!1,this.checkType()}catch{this.adsLoadingFetchLink=!1}}},async removeLinkFetched(e){typeof e>"u"&&(e=!0),this.adsSavedLink.push(this.adsSharedLink.subject.url);try{this.adsSharedLink.post_id==0&&await x({id:this.adsSharedLink.id}),this.adsSharedLink=null,e&&this.checkType()}catch(o){this.showError(o.error)}},inputChange(e){var o=null;clearTimeout(o),o=setTimeout(()=>this.fetchLink(e),1e3)},async createAds(){var l,b,s,h,_;let e=null;this.adsMedias.length>0?e=this.adsMedias.map(m=>m.id):this.adsSharedLink?e=[this.adsSharedLink.id]:this.adsUploadedVideo?e=[this.adsUploadedVideo.id]:this.adsUploadedFiles.length&&(e=this.adsUploadedFiles.map(m=>m.id));let o={type:this.adsType,name:this.adsName,content:this.adsContent,items:e,gender_id:this.genderId,age_type:this.selectedAge,age_from:this.adsAgeFrom||0,age_to:this.adsAgeTo||0,hashtags:this.hashtags.map(m=>m.name),country_id:(l=this.location)==null?void 0:l.country_id,state_id:(b=this.location)==null?void 0:b.state_id,city_id:(s=this.location)==null?void 0:s.city_id,zip_code:(h=this.location)==null?void 0:h.zip_code,address:(_=this.location)==null?void 0:_.address,daily_amount:Number(this.adsAmount),start:this.formatDateTime(this.adsStartDate),end:this.formatDateTime(this.adsEndDate)};try{await Se(o),this.resetErrors(this.error);const m=this.$dialog.open(Ie,{props:{header:this.$t("Enter Password"),class:"password-modal",modal:!0,dismissableMask:!0,draggable:!1},emits:{onConfirm:async A=>{if(A.password)try{o.password=A.password,await Ee(o),this.showSuccess(this.$t("Thank you, your payment has been processed and your ad is scheduled to run now. You can manage all your ads in the ads section.")),this.$router.push({name:"advertisings"}),m.close()}catch(T){T.error.code==k.RESPONSE_CODE_MEMBERSHIP_PERMISSION?this.showPermissionPopup("post",T.error.message):this.handleApiErrors(this.error,T),m.close()}}}})}catch(m){m.error.code==k.RESPONSE_CODE_MEMBERSHIP_PERMISSION?this.showPermissionPopup("post",m.error.message):this.handleApiErrors(this.error,m)}},async editAds(){try{let e=null;this.adsMedias.length>0?e=this.adsMedias.map(o=>o.id):this.adsSharedLink?e=[this.adsSharedLink.id]:this.adsUploadedVideo?e=[this.adsUploadedVideo.id]:this.adsUploadedFiles.length&&(e=this.adsUploadedFiles.map(o=>o.id)),await De({id:this.id,type:this.adsType,name:this.adsName,content:this.adsContent,items:e,gender_id:this.genderId,age_type:this.selectedAge,age_from:this.adsAgeFrom||0,age_to:this.adsAgeTo||0,hashtags:this.hashtags.map(o=>o.name),country_id:this.location.country_id,state_id:this.location.state_id,city_id:this.location.city_id,zip_code:this.location.zip_code,address:this.location.address}),this.showSuccess(this.$t("Updated Successfully")),this.resetErrors(this.error),this.$router.push({name:"advertisings"})}catch(e){e.error.code==k.RESPONSE_CODE_MEMBERSHIP_PERMISSION?this.showPermissionPopup("post",e.error.message):this.handleApiErrors(this.error,e)}},addEmoji(e){this.$refs.mention.addContent(e)},getHelpTextHashTag(){return this.$filters.textTranslate(this.$t("Keyword targeting allows you to reach people on [siteName] based on keywords in their search queries, recent posts, and posts they recently engaged with. This targeting option puts you in the best position to reach the most relevant people, drive engagements, and increase conversions."),{siteName:this.config.siteName})},getHelpTextLocation(){return this.$filters.textTranslate(this.$t("Advertisers can target their campaigns to specific geographies: countries, regions, metros, cities, postal codes. [siteName] geo targeting is based on location info inside member's profile."),{siteName:this.config.siteName})},getHelpTextDateRange(){return this.$t("Choose how long you want your campaign to run by setting your date range from the calendar. The start date defaults to today's date, but you can change it to any date in the future.")}}},Be={key:0,class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},Ne={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},Me={class:"text-main-color text-base-lg font-extrabold dark:text-white"},Re={class:"mb-base-2"},ze={class:"block mb-1"},He={class:"mb-base-2"},Oe={class:"block mb-1"},Ye={class:"flex justify-between items-center gap-base-2 absolute start-2 bottom-2 end-2"},Ge={key:0},We={class:"block mb-1"},qe={class:"flex flex-wrap items-center gap-x-4 gap-y-base-2"},Ke={class:"flex items-center gap-base-1 font-medium"},Xe={class:"flex items-center gap-base-1 font-medium"},Ze={class:"flex items-center gap-base-1 font-medium"},Je=["onTouchend","onClick"],Qe={key:2,class:"flex flex-wrap gap-base-2 mt-base-2"},$e={class:"flex items-center gap-2"},es={class:"truncate"},ss=["onClick"],ts={key:3},os={class:"relative bg-black"},as=["src"],is={key:4,class:"p-error"},ds={key:1,class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},rs={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},ns={class:"text-main-color text-base-lg font-extrabold dark:text-white"},ls={class:"mb-base-2"},hs={key:0,class:"mb-base-2"},cs={class:"block mb-1"},us={class:"flex flex-wrap gap-x-5 gap-y-base-2"},ms={class:"flex items-center gap-base-2"},ps={for:"all"},gs=["for"],bs={key:1,class:"mb-base-2"},fs={class:"block mb-1"},_s={class:"flex items-center gap-base-2 mb-2"},vs={for:"any"},ys={class:"flex items-center gap-base-2 mb-2"},ws={for:"any_range"},ks={key:0,class:"flex gap-base-2"},Us={class:"mb-base-2"},Is={class:"block mb-1"},Ts={class:"mb-base-2"},As={class:"block mb-1"},Vs={key:2,class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},xs={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},Ss={class:"text-main-color text-base-lg font-extrabold dark:text-white"},Es={class:"mb-base-2"},Ds={class:"mb-base-2"},Ls={class:"block mb-1"},Cs={class:"mb-base-2"},Fs={class:"block mb-1"},Ps={class:"flex flex-col sm:flex-row gap-base-2 mb-1"},js={class:"text-base-xs text-sub-color dark:text-slate-400"},Bs={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},Ns={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},Ms={class:"text-main-color text-base-lg font-extrabold dark:text-white"},Rs={class:"mb-base-2"},zs={key:0},Hs={key:1},Os={key:0,class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},Ys={class:"flex flex-wrap items-center justify-between gap-2 mb-base-2"},Gs={class:"text-main-color text-base-lg font-extrabold dark:text-white"},Ws={class:"feed-item-header flex mb-base-2"},qs={class:"feed-item-header-img"},Ks={class:"feed-item-header-info flex-grow ps-base-2"},Xs={class:"feed-item-header-info-title flex justify-between items-start gap-base-2"},Zs={class:"whitespace-normal"},Js={class:"feed-item-header-info-date block w-max text-sub-color text-xs dark:text-slate-400"},Qs={class:"feed-item-content"},$s={class:"whitespace-pre-wrap break-word activity_feed_content_message mb-base-2"},et={key:2,class:"relative border border-divider dark:border-slate-700"},st={key:3},tt={class:"relative bg-black"},ot=["src"],at={key:4,class:"flex flex-wrap gap-base-2 mb-base-2"},it={class:"flex items-center gap-2"},dt={class:"truncate"},rt={class:"mt-3 mb-base-2 dark:text-white"},nt={class:"feed-main-action flex justify-between border-t border-divider pt-base-2 dark:border-white/10 mb-base-2"},lt={key:0,class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},ht={class:"font-semibold mb-base-2"},ct={class:"flex gap-base-2 justify-between mb-base-2"},ut={class:"text-end"},mt={class:"flex gap-base-2 justify-between mb-base-2"},pt={class:"text-end"},gt={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},bt={class:"font-semibold mb-base-2"},ft={class:"flex gap-base-2 justify-between mb-base-2"},_t={class:"text-end"},vt={class:"flex gap-base-2 justify-between mb-base-2"},yt={class:"text-end"},wt={key:0},kt={key:1},Ut={class:"flex gap-base-2 justify-between mb-base-2"},It={class:"text-end break-word"},Tt={key:0,class:"flex gap-base-2 justify-between mb-base-2"},At={class:"text-end break-word"},Vt={key:1,class:"flex gap-base-2 justify-between mb-base-2"},xt={class:"text-end break-word"},St={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},Et={class:"font-semibold mb-base-2"},Dt={class:"flex gap-base-2 justify-between mb-base-2"},Lt={class:"text-end"},Ct={class:"flex gap-base-2 justify-between mb-base-2"},Ft={class:"text-end"},Pt={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},jt={class:"flex gap-base-2 justify-between mb-base-2 font-semibold"},Bt={class:"text-end"},Nt={class:"flex gap-base-2 justify-between mb-base-2"},Mt={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},Rt={class:"font-semibold mb-base-2"},zt={class:"mb-base-2"},Ht={class:"flex gap-base-2 justify-between mb-base-2"},Ot={class:"text-end"},Yt={class:"flex gap-base-2 justify-between mb-base-2"},Gt={class:"text-end"},Wt={class:"border-t border-divider pt-base-2 mt-base-2 dark:border-white/10"},qt={class:"flex gap-base-2 justify-between mb-base-2 font-semibold"},Kt={class:"text-end"},Xt={class:"grid gap-base-2"};function Zt(e,o,l,b,s,h){const _=u("BaseInputText"),m=u("EmojiPicker"),A=u("WordCounter"),T=u("Mentionable"),N=u("ProgressBar"),p=u("BaseIcon"),M=u("UploadImages"),R=u("UploadVideo"),z=u("UploadFiles"),H=u("Draggable"),V=u("BaseRadio"),S=u("InfoTooltip"),O=u("BaseSelectHashtags"),Y=u("BaseSelectLocation"),C=u("BaseCalendar"),E=u("BaseButton"),G=u("Avatar"),W=u("UserName"),q=u("VueperSlide"),K=u("VueperSlides"),X=u("Loading"),Z=u("LinkFetched"),J=u("FullColumn");return d(),v(J,{"keep-right-column":!0},{center:g(()=>[h.adsInfoRendered?(d(),n("div",Be,[t("div",Ne,[t("h3",Me,a(l.id?e.$t("Edit Ads"):e.$t("Create Ads")),1)]),t("div",Re,[t("label",ze,a(e.$t("Ads Name")),1),r(_,{modelValue:s.adsName,"onUpdate:modelValue":o[0]||(o[0]=i=>s.adsName=i),error:s.error.name},null,8,["modelValue","error"])]),t("div",He,[t("label",Oe,a(e.$t("Ads Text")),1),r(T,{modelValue:s.adsContent,"onUpdate:modelValue":[o[1]||(o[1]=i=>s.adsContent=i),h.inputChange],rows:3,ref:"mention",className:"p-inputtext pb-8",error:s.error.content},{default:g(()=>[t("div",Ye,[r(m,{onEmoji_click:h.addEmoji},null,8,["onEmoji_click"]),r(A,{max:e.config.postCharacterMax,data:s.adsContent},null,8,["max","data"])])]),_:1},8,["modelValue","onUpdate:modelValue","error"])]),r(N,{value:s.videoUploadProgress,class:"mb-base-2"},null,8,["value"]),s.showUploadImage||s.showUploadVideo||s.showUploadFile?(d(),n("div",Ge,[t("label",We,a(e.$filters.textTranslate(e.$t("Select your media (Can upload ONE [duration] seconds video)"),{duration:e.config.videoDurationConvertNow})),1),t("div",qe,[s.showUploadImage?(d(),v(M,{key:0,ref:"imagesUploadStatus",onUpload:h.uploadImages},{default:g(()=>[t("div",Ke,[r(p,{name:"camera"}),y(" "+a(e.$t("Photos")),1)])]),_:1},8,["onUpload"])):c("",!0),s.showUploadVideo?(d(),v(R,{key:1,ref:"videoUploadStatus",onUpload:h.uploadVideo},{default:g(()=>[t("div",Xe,[r(p,{name:"video_camera"}),y(" "+a(e.$t("Video")),1)])]),_:1},8,["onUpload"])):c("",!0),s.showUploadFile?(d(),v(z,{key:2,ref:"fileUploadStatus",onUpload:h.uploadFiles},{default:g(()=>[t("div",Ze,[r(p,{name:"paperclip"}),y(" "+a(e.$t("Attachment")),1)])]),_:1},8,["onUpload"])):c("",!0)])])):c("",!0),s.adsMedias.length?(d(),n("div",{key:1,class:L(["flex flex-wrap gap-2 mt-base-2 rounded-md border",s.error.items?"border-invalid-color p-2":"border-transparent"])},[r(H,{list:s.adsMedias,onDragover:o[2]||(o[2]=i=>h.preventPhotosListDrag(i)),onDragend:o[3]||(o[3]=i=>h.endDraggingPhotos(i)),class:"flex flex-wrap gap-2"},{default:g(()=>[r(Ae,{type:"transition"},{default:g(()=>[(d(!0),n(w,null,I(s.adsMedias,i=>(d(),n("div",{key:i.subject.id,class:"inline-block w-20 h-20 bg-cover bg-center relative cursor-pointer border border-divider rounded-md dark:border-white/10",style:j({backgroundImage:`url(${i.subject.url})`})},[t("button",{class:"inline-flex absolute top-1 end-1 bg-black/30 text-white w-4 h-4",onTouchend:B(U=>h.removeImage(i),["prevent"]),onClick:B(U=>h.removeImage(i),["stop","prevent"])},[r(p,{name:"close",size:"16"})],40,Je)],4))),128))]),_:1})]),_:1},8,["list"]),t("button",{class:"add-images-icon inline-flex items-center justify-center w-20 h-20 bg-cover bg-center text-main-color border border-divider dark:text-white/50 dark:border-white/10 rounded-md hover:bg-hover",onClick:o[4]||(o[4]=i=>this.$refs.imagesUploadStatus.open())},[r(p,{name:"photo"})])],2)):c("",!0),s.adsLoadingUploadFiles.length||s.adsUploadedFiles.length?(d(),n("div",Qe,[(d(!0),n(w,null,I(s.adsLoadingUploadFiles,i=>(d(),n("div",{key:i,class:"inline-block w-20 relative rounded-md border border-divider dark:border-white/10 status-box-image-upload-list-loading"},o[19]||(o[19]=[t("span",{class:"loading-icon"},[t("div",{class:"loader"})],-1)])))),128)),(d(!0),n(w,null,I(s.adsUploadedFiles,i=>(d(),n("div",{key:i.id,class:"bg-web-wash border border-divider p-base-2 rounded-md relative max-w-[200px] dark:bg-dark-web-wash dark:border-slate-700"},[t("div",$e,[r(p,{name:"file"}),t("span",es,a(i.subject.name),1)]),t("button",{class:"shadow-md inline-flex items-center justify-center absolute -top-2 -end-2 bg-white border border-divider text-main-color rounded-full w-5 h-5",onClick:U=>h.removeUploadedFile(i)},[r(p,{name:"close",size:"16"})],8,ss)]))),128))])):c("",!0),s.adsUploadedVideo?(d(),n("div",ts,[t("div",os,[t("img",{class:L(["w-full",e.aspectRatioVideo(s.adsUploadedVideo.subject.thumb.params)=="horizontal"?"":"max-w-[200px] mx-auto"]),src:s.adsUploadedVideo.subject.thumb.url},null,10,as),t("button",{onClick:o[5]||(o[5]=i=>h.removeUploadedVideo(s.adsUploadedVideo)),class:"absolute top-2 end-2 flex items-center justify-center w-7 h-7 rounded-full bg-primary-color dark:bg-dark-primary-color"},[r(p,{name:"close",size:"20",class:"text-white"})])])])):c("",!0),s.error.items?(d(),n("small",is,a(s.error.items),1)):c("",!0)])):c("",!0),h.adsInfoRendered?(d(),n("div",ds,[t("div",rs,[t("h3",ns,a(e.$t("Demographics & Targeting features")),1)]),t("div",ls,a(e.$t("Target your audience based on hashtags they use, followers of similar accounts.")),1),s.adsConfig?(d(),n("div",hs,[t("label",cs,a(e.$t("Gender")),1),t("div",us,[t("div",ms,[r(V,{value:0,modelValue:s.genderId,"onUpdate:modelValue":o[6]||(o[6]=i=>s.genderId=i),inputId:"all",name:"genders"},null,8,["modelValue"]),t("label",ps,a(e.$t("All")),1)]),(d(!0),n(w,null,I(s.adsConfig.genders,i=>(d(),n("div",{key:i.id,class:"flex items-center gap-base-2"},[r(V,{value:i.id,modelValue:s.genderId,"onUpdate:modelValue":o[7]||(o[7]=U=>s.genderId=U),inputId:`${i.name}_${i.id}`,name:"genders"},null,8,["value","modelValue","inputId"]),t("label",{for:`${i.name}_${i.id}`},a(i.name),9,gs)]))),128))])])):c("",!0),s.adsConfig?(d(),n("div",bs,[t("label",fs,a(e.$t("Age")),1),t("div",_s,[r(V,{value:s.ageTypeAny,modelValue:s.selectedAge,"onUpdate:modelValue":o[8]||(o[8]=i=>s.selectedAge=i),inputId:"any",name:"age"},null,8,["value","modelValue"]),t("label",vs,a(e.$t("Any")),1)]),t("div",ys,[r(V,{value:s.ageTypeRange,modelValue:s.selectedAge,"onUpdate:modelValue":o[9]||(o[9]=i=>s.selectedAge=i),inputId:"any_range",name:"age"},null,8,["value","modelValue"]),t("label",ws,a(e.$t("Age Range")),1)]),s.selectedAge===s.ageTypeRange?(d(),n("div",ks,[r(_,{modelValue:s.adsAgeFrom,"onUpdate:modelValue":o[10]||(o[10]=i=>s.adsAgeFrom=i),placeholder:e.$t("From"),error:s.error.age_from},null,8,["modelValue","placeholder","error"]),r(_,{modelValue:s.adsAgeTo,"onUpdate:modelValue":o[11]||(o[11]=i=>s.adsAgeTo=i),placeholder:e.$t("To"),error:s.error.age_to},null,8,["modelValue","placeholder","error"])])):c("",!0)])):c("",!0),t("div",Us,[t("label",Is,[y(a(e.$t("Target hashtags"))+" ",1),r(S,{content:h.getHelpTextHashTag()},null,8,["content"])]),r(O,{modelValue:s.hashtags,"onUpdate:modelValue":o[12]||(o[12]=i=>s.hashtags=i),error:s.error.hashtags},null,8,["modelValue","error"])]),t("div",Ts,[r(Y,{modelValue:s.location,"onUpdate:modelValue":o[13]||(o[13]=i=>s.location=i),"show-address":!1,error:s.error},{default:g(()=>[t("label",As,[y(a(e.$t("Location"))+" ",1),r(S,{content:h.getHelpTextLocation()},null,8,["content"])])]),_:1},8,["modelValue","error"])])])):c("",!0),l.id?c("",!0):(d(),n("div",Vs,[t("div",xs,[t("h3",Ss,a(e.$t("Budget & Scheduling")),1)]),t("div",Es,a(e.$t("Set a budget that fits your needs and a date range to take more control of your spend.")),1),t("div",Ds,[t("label",Ls,a(e.$t("Daily budget")),1),r(_,{modelValue:s.adsAmount,"onUpdate:modelValue":o[14]||(o[14]=i=>s.adsAmount=i),error:s.error.daily_amount},null,8,["modelValue","error"])]),t("div",Cs,[t("label",Fs,[y(a(e.$t("Date Range"))+" ",1),r(S,{content:h.getHelpTextDateRange()},null,8,["content"])]),t("div",Ps,[r(C,{modelValue:s.adsStartDate,"onUpdate:modelValue":o[15]||(o[15]=i=>s.adsStartDate=i),placeholder:e.$t("Start Date"),error:s.error.start},null,8,["modelValue","placeholder","error"]),r(C,{modelValue:s.adsEndDate,"onUpdate:modelValue":o[16]||(o[16]=i=>s.adsEndDate=i),placeholder:e.$t("End Date"),error:s.error.end},null,8,["modelValue","placeholder","error"])]),t("p",js,a(e.$t("Ads that run for at least 4 days tend to get better results.")),1)])])),t("div",Bs,[t("div",Ns,[t("h3",Ms,a(e.$t("Payment method")),1)]),t("div",Rs,[e.config.wallet.enable?(d(),n("span",zs,a(e.$t("Ewallet")+" ( "+e.exchangeTokenCurrency(e.user.wallet_balance))+" ~ "+a(e.exchangeCurrency(e.user.wallet_balance)+")"),1)):(d(),n("span",Hs,a(e.$t("The eWallet system is not available at this time.")),1))]),e.config.wallet.enable?(d(),v(E,{key:0,href:h.baseUrl+"/wallet",target:"_blank"},{default:g(()=>[y(a(e.$t("Add funds")),1)]),_:1},8,["href"])):c("",!0)])]),right:g(()=>{var i,U;return[h.adsInfoRendered?(d(),n("div",Os,[t("div",Ys,[t("h3",Gs,a(e.$t("Ads Preview")),1)]),t("div",null,[t("div",Ws,[t("div",qs,[r(G,{user:e.user,activePopover:!1,router:!1},null,8,["user"])]),t("div",Ks,[t("div",Xs,[t("div",Zs,[r(W,{user:e.user,truncate:!1,activePopover:!1,router:!1},null,8,["user"])]),t("div",null,[r(p,{size:"20",name:"more_horiz_outlined",class:"feed-item-dropdown text-sub-color dark:text-slate-400"})])]),t("div",Js,a((i=s.adsInfo)!=null&&i.created_at?(U=s.adsInfo)==null?void 0:U.created_at:e.$t("Just now")),1)])]),t("div",Qs,[t("div",$s,a(s.adsContent),1),s.adsMedias.length?(d(),v(K,{key:0,ref:"photosFeed","slide-ratio":e.aspectRatioImage(s.adsMedias[0].subject.params),infinite:!1,arrows:!0,bullets:!1,"disable-arrows-on-edges":"",rtl:!!e.user.rtl,touchable:!1,gap:5,class:"activity_content_photos_list no-shadow"},{"arrow-left":g(()=>o[20]||(o[20]=[t("div",{class:"arrow_slider arrow_slider_left"},null,-1)])),"arrow-right":g(()=>o[21]||(o[21]=[t("div",{class:"arrow_slider arrow_slider_right"},null,-1)])),default:g(()=>[(d(!0),n(w,null,I(s.adsMedias,(f,D)=>(d(),v(q,{key:f.id,class:"cursor-pointer bg-no-repeat",style:j({backgroundColor:`${f.subject.params.dominant_color?f.subject.params.dominant_color:"#000"}`}),image:f.subject.url,onClick:Jt=>e.clickPhotoImage(D)},null,8,["style","image","onClick"]))),128))]),_:1},8,["slide-ratio","rtl"])):c("",!0),s.adsLoadingFetchLink?(d(),v(X,{key:1})):c("",!0),!s.adsLoadingFetchLink&&s.adsSharedLink?(d(),n("div",et,[r(Z,{postItemsList:[s.adsSharedLink]},null,8,["postItemsList"]),t("button",{onClick:o[17]||(o[17]=f=>h.removeLinkFetched()),class:"absolute top-2 end-2 fetched-link-close flex items-center justify-center w-7 h-7 rounded-full bg-primary-color dark:bg-dark-primary-color"},[r(p,{name:"close",size:"20",class:"text-white"})])])):c("",!0),s.adsUploadedVideo?(d(),n("div",st,[t("div",tt,[t("img",{class:L(["w-full",e.aspectRatioVideo(s.adsUploadedVideo.subject.thumb.params)=="horizontal"?"":"max-w-[200px] mx-auto"]),src:s.adsUploadedVideo.subject.thumb.url},null,10,ot)])])):c("",!0),s.adsUploadedFiles.length?(d(),n("div",at,[(d(!0),n(w,null,I(s.adsUploadedFiles,f=>(d(),n("div",{key:f.id,class:"bg-white text-inherit border border-divider px-base-2 py-2 rounded-1000 relative max-w-[200px] dark:bg-dark-web-wash dark:border-slate-700"},[t("div",it,[r(p,{name:"file"}),t("span",dt,a(f.subject.name),1)])]))),128))])):c("",!0)]),t("div",rt,[t("div",nt,[t("div",null,[r(p,{name:"heart"})]),t("div",null,[r(p,{name:"comment"})]),t("div",null,[r(p,{name:"share"})]),t("div",null,[r(p,{name:"bookmarks"})])])]),s.adsInfo?(d(),n("div",lt,[t("div",ht,a(e.$t("Date")),1),t("div",ct,[t("div",null,a(e.$t("Start Date")),1),t("div",ut,a(s.adsStartDate),1)]),t("div",mt,[t("div",null,a(e.$t("End Date")),1),t("div",pt,a(s.adsEndDate),1)])])):c("",!0),t("div",gt,[t("div",bt,a(e.$t("Demographics & Targeting features")),1),t("div",ft,[t("div",null,a(e.$t("Gender")),1),t("div",_t,a(h.genderName),1)]),t("div",vt,[t("div",null,a(e.$t("Age")),1),t("div",yt,[s.selectedAge==s.ageTypeAny?(d(),n("span",wt,a(e.$t("Any")),1)):c("",!0),s.selectedAge==s.ageTypeRange?(d(),n("span",kt,a((s.adsAgeFrom||0)+"-"+(s.adsAgeTo||0)),1)):c("",!0)])]),t("div",Ut,[t("div",null,a(e.$t("Hashtags")),1),t("div",It,[(d(!0),n(w,null,I(s.hashtags,(f,D)=>(d(),n("span",{key:f.name},a("#"+f.name+(D==s.hashtags.length-1?"":", ")),1))),128))])]),s.location.address_full?(d(),n("div",Tt,[t("div",null,a(e.$t("Locations")),1),t("div",At,a(s.location.address_full),1)])):c("",!0),s.adsInfo?(d(),n("div",Vt,[t("div",null,a(e.$t("Daily budget")),1),t("div",xt,a(s.adsInfo.daily_amount),1)])):c("",!0)]),s.adsInfo?(d(),n(w,{key:1},[t("div",St,[t("div",Et,a(e.$t("Payment summary")),1),t("div",Dt,[t("div",null,a(e.$t("Total budget")),1),t("div",Lt,a(s.adsInfo.total_amount),1)]),t("div",Ct,[t("div",null,a(e.$t("Spent Amount")),1),t("div",Ft,a(s.adsInfo.total_delivery_amount),1)])]),t("div",Pt,[t("div",jt,[t("div",null,a(e.$t("Available Amount")),1),t("div",Bt,a(s.adsInfo.total_available_amount),1)]),t("div",Nt,[t("div",null,a(e.$t("VAT"))+" ("+a(s.adsInfo.vat)+"%)",1)])])],64)):(d(),n(w,{key:2},[t("div",Mt,[t("div",Rt,a(e.$t("Payment summary")),1),t("div",zt,a(e.$filters.numberShortener(e.runningDate(s.adsStartDate,s.adsEndDate),e.$t("Your ads will run for [number] day"),e.$t("Your ads will run for [number] days"))),1),t("div",Ht,[t("div",null,a(e.$t("Total budget")),1),t("div",Ot,a(e.exchangeTokenCurrency(s.adsAmount*e.runningDate(s.adsStartDate,s.adsEndDate))),1)]),t("div",Yt,[t("div",null,a(e.$t("Estimated VAT"))+" ("+a(e.config.advertising.vat)+"%)",1),t("div",Gt,a(e.exchangeTokenCurrency(s.adsAmount*e.runningDate(s.adsStartDate,s.adsEndDate)*Number(e.config.advertising.vat)/100)),1)])]),t("div",Wt,[t("div",qt,[t("div",null,a(e.$t("Total amount")),1),t("div",Kt,a(e.exchangeTokenCurrency(s.adsAmount*e.runningDate(s.adsStartDate,s.adsEndDate)*(100+Number(e.config.advertising.vat))/100)),1)])])],64)),t("div",Xt,[r(E,{onClick:o[18]||(o[18]=f=>l.id?h.editAds():h.createAds())},{default:g(()=>[y(a(l.id?e.$t("Save Campaign"):e.$t("Launch Campaign")),1)]),_:1}),l.id>0?(d(),v(E,{key:0,to:{name:"advertisings"},type:"outlined"},{default:g(()=>[y(a(e.$t("Cancel")),1)]),_:1})):c("",!0)])])])):c("",!0)]}),_:1})}const io=Q(je,[["render",Zt]]);export{io as default};
