import{_ as m,m as h,y as p,dr as b,ad as a,c2 as k,dN as u,o as l,c,b as f,t as s,Q as i,h as d}from"../../assets/app-8df99815.js";const y={data(){return{userInfo:this.dialogRef.data.userInfo}},inject:{dialogRef:{default:null}},computed:{...h(p,["user"]),importantActionClass(){return"options-menu-modal-text options-menu-modal-border text-center p-4 border-t border-light-divider first:border-none dark:border-white/10 text-base-red font-bold"},normalActionClass(){return"options-menu-modal-sub-text options-menu-modal-border text-center p-4 border-t border-light-divider first:border-none dark:border-white/10"}},methods:{reportUser(o){this.dialogRef.close(),setTimeout(()=>this.$dialog.open(b,{data:{type:"users",id:o},props:{header:this.$t("Report"),class:"user-report-modal",modal:!0,draggable:!1},onClose:()=>{a()}}),300)},blockUser(o){this.dialogRef.close(),setTimeout(()=>this.$confirm.require({message:o.is_page?this.$t("Are you sure you want to block this page?"):this.$t("Are you sure you want to block this user?"),header:this.$t("Please confirm"),acceptLabel:this.$t("Ok"),rejectLabel:this.$t("Cancel"),accept:async()=>{try{await k({id:o.id,action:"add"}),this.$router.push({name:"home"})}catch(e){this.showError(e.error)}a()},reject:()=>{a()},onHide:()=>{a()}}),300)},async stopNotificationUser(o){try{await u({id:o,action:"remove"}),this.userInfo.enable_notify=0,this.dialogRef.close()}catch(e){this.showError(e.error)}},async turnOnNotificationUser(o){try{await u({id:o,action:"add"}),this.userInfo.enable_notify=1,this.dialogRef.close()}catch(e){this.showError(e.error)}},cancel(){this.dialogRef.close()}}},g={class:"options-menu-modal flex flex-col text-main-color dark:text-white"};function C(o,e,I,w,t,r){return l(),c("div",g,[f("button",{class:i(r.importantActionClass),onClick:e[0]||(e[0]=n=>r.reportUser(t.userInfo.id))},s(o.$t("Report")),3),o.user.id!==t.userInfo.id?(l(),c("button",{key:0,class:i(r.importantActionClass),onClick:e[1]||(e[1]=n=>r.blockUser(t.userInfo))},s(o.$t("Block")),3)):d("",!0),t.userInfo.check_privacy&&t.userInfo.is_followed&&t.userInfo.enable_notify?(l(),c("button",{key:1,class:i(r.normalActionClass),onClick:e[2]||(e[2]=n=>r.stopNotificationUser(t.userInfo.id))},s(o.$t("Stop Notifications")),3)):d("",!0),t.userInfo.check_privacy&&t.userInfo.is_followed&&!t.userInfo.enable_notify?(l(),c("button",{key:2,class:i(r.normalActionClass),onClick:e[3]||(e[3]=n=>r.turnOnNotificationUser(t.userInfo.id))},s(o.$t("Turn on Notifications")),3)):d("",!0),f("button",{class:i(r.normalActionClass),onClick:e[4]||(e[4]=n=>r.cancel())},s(o.$t("Cancel")),3)])}const U=m(y,[["render",C]]);export{U as default};
