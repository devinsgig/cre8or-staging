import{_ as f,s as g,B as p,m as w,y as c,z as y,A as _,r as u,o as b,c as k,b as o,t as s,d as l,w as h,e as i}from"../../assets/app-8df99815.js";const B={components:{BaseInputText:g,BaseButton:p},data(){return{code:null,loading:!1,loading_resend:!1}},computed:{...w(c,["user"])},methods:{async checkVerifyCode(){this.loading=!0;try{await y(this.code),this.loading=!1,this.user.already_setup_login||this.$router.push({name:"first_login"})}catch(e){this.loading=!1,this.showError(e.error)}},async resendCode(){this.loading_resend=!0;try{await _(),this.loading_resend=!1,this.showSuccess(this.$t("A verification code has been sent to your email account."))}catch(e){this.loading_resend=!1,this.showError(e.error)}},async logout(){try{await c().logout(),window.location.href=`${window.siteConfig.siteUrl}/login`}catch(e){this.showError(e.error)}}}},C={class:"bg-white rounded-base w-full sm:w-96 p-7 mx-auto mb-base-2 dark:bg-slate-800 dark:text-white"},$={class:"flex items-center justify-between mb-4"},v={class:"text-base-lg font-extrabold"},V={class:"mb-4"},x={class:"mt-1 break-words"},E={class:"mt-base-2 text-center"};function S(e,t,T,A,a,n){const m=u("BaseInputText"),d=u("BaseButton");return b(),k("div",C,[o("div",null,[o("div",$,[o("h3",v,s(e.$t("Enter verification code")),1)]),o("p",V,s(e.$t("Please check your email for a message with your code.")),1),l(m,{modelValue:a.code,"onUpdate:modelValue":t[0]||(t[0]=r=>a.code=r),class:"w-full",placeholder:e.$t("Code")},null,8,["modelValue","placeholder"]),o("p",x,s(e.$t("We sent your code to"))+": "+s(e.user.email),1),l(d,{loading:a.loading,class:"w-full mt-3",onClick:t[1]||(t[1]=r=>n.checkVerifyCode())},{default:h(()=>[i(s(e.$t("Continue")),1)]),_:1},8,["loading"]),l(d,{loading:a.loading_resend,type:"transparent",class:"w-full mt-2",onClick:t[2]||(t[2]=r=>n.resendCode())},{default:h(()=>[i(s(e.$t("Resend code")),1)]),_:1},8,["loading"]),o("div",E,[i(s(e.$t("Switch account?"))+" ",1),o("button",{class:"text-primary-color dark:text-dark-primary-color",onClick:t[3]||(t[3]=r=>n.logout())},s(e.$t("Login")),1)])])])}const N=f(B,[["render",S]]);export{N as default};
