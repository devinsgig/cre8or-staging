import{_ as u,U as g,s as m,af as U,ag as S,r as i,o as p,c as f,b as h,t as w,d as n,F as _}from"../../assets/app-8df99815.js";var l=null;const b={components:{UsersList:g,BaseInputText:m},props:["tab"],data(){return{currentTab:this.tab?this.tab:"",hashtagKeyword:"",loadmoreStatus:!1,loadingSearchUsers:!0,searchUsers:[],currentPage:1}},mounted(){switch(this.currentTab){case"trending":this.getTrendingSearchUsersList(this.currentPage,this.hashtagKeyword);break;default:this.getSuggestSearchUsersList(this.currentPage,this.hashtagKeyword)}},methods:{findUsers(){this.currentPage=1,clearTimeout(l),l=setTimeout(()=>{switch(this.currentTab){case"trending":this.getTrendingSearchUsersList(this.currentPage,this.hashtagKeyword);break;default:this.getSuggestSearchUsersList(this.currentPage,this.hashtagKeyword)}},400)},async getSuggestSearchUsersList(e,t){try{const s=await U(e,t);return e===1?this.searchUsers=s.items:this.searchUsers=window._.concat(this.searchUsers,s.items),s.has_next_page?this.loadmoreStatus=!0:this.loadmoreStatus=!1,s}catch(s){this.showError(s.error)}finally{this.loadingSearchUsers=!1}},async getTrendingSearchUsersList(e,t){try{const s=await S(e,t);return e===1?this.searchUsers=s.items:this.searchUsers=window._.concat(this.searchUsers,s.items),s.has_next_page?this.loadmoreStatus=!0:this.loadmoreStatus=!1,s}catch(s){this.showError(s.error)}finally{this.loadingSearchUsers=!1}},loadSearchUsers(e){switch(this.currentTab){case"trending":this.getTrendingSearchUsersList(++this.currentPage,this.hashtagKeyword).then(t=>{t.has_next_page?(this.loadmoreStatus=!0,e.loaded()):(this.loadmoreStatus=!1,e.complete())});break;default:this.getSuggestSearchUsersList(++this.currentPage,this.hashtagKeyword).then(t=>{t.has_next_page?(this.loadmoreStatus=!0,e.loaded()):(this.loadmoreStatus=!1,e.complete())})}}}},y={class:"page-title mb-base-2"},T={class:"bg-white p-5 mb-base-2 rounded-base-lg dark:bg-slate-800"};function L(e,t,s,K,r,a){const c=i("BaseInputText"),d=i("UsersList");return p(),f(_,null,[h("h1",y,w(r.currentTab==="suggest"?e.$t("Users for you"):e.$t("Popular Users")),1),h("div",T,[n(c,{placeholder:e.$t("Enter Name"),left_icon:"pencil",modelValue:r.hashtagKeyword,"onUpdate:modelValue":t[0]||(t[0]=o=>r.hashtagKeyword=o),onInput:t[1]||(t[1]=o=>a.findUsers()),class:"mb-3"},null,8,["placeholder","modelValue"]),n(d,{loading:r.loadingSearchUsers,usersList:r.searchUsers,"has-load-more":r.loadmoreStatus,onLoadMore:a.loadSearchUsers,"auto-load-more":!0},null,8,["loading","usersList","has-load-more","onLoadMore"])])],64)}const x=u(b,[["render",L]]);export{x as default};
