import{_ as d,j as u,O as p,P as m,r as i,o as b,c as S,b as r,t as H,d as n,J as f,K as _,F as w}from"../../assets/app-8df99815.js";import{H as y}from"./HashtagsList-2b30b1b4.js";var g=null;const L={components:{BaseIcon:u,HashtagsList:y},props:["tab","title"],data(){return{currentTab:this.tab?this.tab:"",hashtagKeyword:"",loadmoreStatus:!1,loadingSearchHashtags:!0,searchHashtags:[],currentPage:1}},mounted(){switch(this.currentTab){case"trending":this.getTrendingSearchHashtagsList(this.currentPage,this.hashtagKeyword);break;default:this.getSuggestSearchHashtagsList(this.currentPage,this.hashtagKeyword)}},methods:{findHashtag(){this.currentPage=1,clearTimeout(g),g=setTimeout(()=>{switch(this.currentTab){case"trending":this.getTrendingSearchHashtagsList(this.currentPage,this.hashtagKeyword);break;default:this.getSuggestSearchHashtagsList(this.currentPage,this.hashtagKeyword)}},400)},async getSuggestSearchHashtagsList(t,s){try{const e=await p(t,s);return t===1?this.searchHashtags=e.items:this.searchHashtags=window._.concat(this.searchHashtags,e.items),e.has_next_page?this.loadmoreStatus=!0:this.loadmoreStatus=!1,e}catch(e){this.showError(e.error)}finally{this.loadingSearchHashtags=!1}},async getTrendingSearchHashtagsList(t,s){try{const e=await m(t,s);return t===1?this.searchHashtags=e.items:this.searchHashtags=window._.concat(this.searchHashtags,e.items),e.has_next_page?this.loadmoreStatus=!0:this.loadmoreStatus=!1,e}catch(e){this.showError(e.error)}finally{this.loadingSearchHashtags=!1}},loadSearchHashtags(t){switch(this.currentTab){case"trending":this.getTrendingSearchHashtagsList(++this.currentPage,this.hashtagKeyword).then(s=>{s.has_next_page?(this.loadmoreStatus=!0,t.loaded()):(this.loadmoreStatus=!1,t.complete())});break;default:this.getSuggestSearchHashtagsList(++this.currentPage,this.hashtagKeyword).then(s=>{s.has_next_page?(this.loadmoreStatus=!0,t.loaded()):(this.loadmoreStatus=!1,t.complete())});break}}}},T={class:"page-title mb-base-2"},k={class:"main-content-section bg-white border border-divider p-5 mb-base-2 rounded-base-lg dark:bg-slate-800 dark:border-slate-800"},x={class:"search-hashtag mb-3"},v={class:"relative"},K=["placeholder"];function P(t,s,e,B,a,o){const c=i("BaseIcon"),l=i("HashtagsList");return b(),S(w,null,[r("h1",T,H(a.currentTab==="suggest"?t.$t("Tags for you"):t.$t("Trending Tags")),1),r("div",k,[r("div",x,[r("div",v,[n(c,{name:"pencil",size:"16",class:"absolute top-3 start-2"}),f(r("input",{type:"text",onInput:s[0]||(s[0]=h=>o.findHashtag()),"onUpdate:modelValue":s[1]||(s[1]=h=>a.hashtagKeyword=h),placeholder:t.$t("Enter tags"),class:"w-full text-sm bg-input-background-color text-input-text-color border border-input-border-color rounded py-2 ps-8 pe-2 placeholder:text-input-placeholder-color outline-none appearance-none dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700 dark:placeholder:text-slate-300"},null,40,K),[[_,a.hashtagKeyword]])])]),n(l,{loading:a.loadingSearchHashtags,hashtagsList:a.searchHashtags,hasLoadMore:a.loadmoreStatus,"auto-load-more":!0,onLoadMore:o.loadSearchHashtags},null,8,["loading","hashtagsList","hasLoadMore","onLoadMore"])])],64)}const I=d(L,[["render",P]]);export{I as default};
