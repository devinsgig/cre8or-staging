import{_ as u,a7 as _,U,j as f,m as y,c1 as B,c2 as L,r as c,o as b,c as w,b as o,d,w as n,t as i,Q as k,g as x,h as v,F as T,u as C,e as S}from"../../assets/app-8df99815.js";const N={components:{Error:_,UsersList:U,BaseIcon:f},data(){return{error:null,loadmoreStatus:!1,loadingUsers:!0,blockUsersList:[],blockType:"user",page:1}},computed:{...y(C,["isMobile"])},mounted(){this.getBlockUsersList(this.blockType,this.page)},methods:{async getBlockUsersList(s,e){try{const r=await B(s,e);e===1?this.blockUsersList=r.items:this.blockUsersList=window._.concat(this.blockUsersList,r.items),r.has_next_page?(this.loadmoreStatus=!0,this.page++):this.loadmoreStatus=!1,this.loadingUsers=!1}catch(r){this.error=r,this.loadingUsers=!1}},filterBlockUsersList(s){this.blockType=s,this.page=1,this.getBlockUsersList(this.blockType,this.page)},async unBlock(s){try{await L({id:s,action:"remove"}),this.blockUsersList=this.blockUsersList.filter(e=>e.id!==s)}catch(e){this.showError(e.error)}}}},E={class:"flex items-center justify-between gap-3 mb-5"},M={class:"flex items-center gap-base-2"},V={class:"text-2xl font-bold"},j={class:"tabs-list flex gap-base-2 mb-4"},F={class:"text-center"},I=["onClick"];function P(s,e,r,z,t,a){const m=c("BaseIcon"),p=c("router-link"),g=c("Error"),h=c("UsersList");return b(),w(T,null,[o("div",E,[o("div",M,[d(p,{to:{name:s.isMobile?"list_index":"list_lists"},class:"text-inherit"},{default:n(()=>[d(m,{name:"caret_left",class:"align-middle"})]),_:1},8,["to"]),o("h2",V,i(s.$t("Blocked")),1)])]),o("div",j,[o("button",{onClick:e[0]||(e[0]=l=>a.filterBlockUsersList("user")),class:k(["tabs-list-item p-base-2 rounded-base-lg",t.blockType==="user"?"active bg-primary-color text-white dark:bg-dark-primary-color":"bg-web-wash dark:bg-dark-web-wash"])},i(s.$t("Users")),3),o("button",{onClick:e[1]||(e[1]=l=>a.filterBlockUsersList("page")),class:k(["tabs-list-item p-base-2 rounded-base-lg",t.blockType==="page"?"active bg-primary-color text-white dark:bg-dark-primary-color":"bg-web-wash dark:bg-dark-web-wash"])},i(s.$t("Pages")),3)]),t.error?(b(),x(g,{key:0},{default:n(()=>[S(i(t.error),1)]),_:1})):v("",!0),d(h,{loading:t.loadingUsers,"users-list":t.blockUsersList,"has-load-more":t.loadmoreStatus,onLoadMore:e[2]||(e[2]=l=>a.getBlockUsersList(t.blockType,t.page))},{empty:n(()=>[o("div",F,i(t.blockType==="user"?s.$t("No Users"):s.$t("No Pages")),1)]),actions:n(({user:l})=>[o("button",{class:"list_items_button text-xs text-primary-color cursor-pointer font-bold dark:text-dark-primary-color",onClick:A=>a.unBlock(l.id)},i(s.$t("Unblock")),9,I)]),_:1},8,["loading","users-list","has-load-more"])],64)}const Q=u(N,[["render",P]]);export{Q as default};
