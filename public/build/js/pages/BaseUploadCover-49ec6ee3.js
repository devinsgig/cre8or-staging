import{j as c,m as l,du as d,bD as i,ad as u,_ as f,cf as m,aZ as v,r as g,o as C,c as _,d as I,b}from"../../assets/app-8df99815.js";const y={props:{type:{type:String,default:"user"},subjectId:{type:Number,default:null}},components:{BaseIcon:c},computed:{...l(d,["userInfo"]),...l(i,["groupInfo"])},methods:{uploadCover(o){var e=o.target;if(e.files&&e.files[0]){var s=new FileReader;s.onload=r=>{const n=m(()=>v(()=>import("./UploadCoverModal-d4d7739e.js"),["./UploadCoverModal-d4d7739e.js","../../assets/app-8df99815.js","../../assets/app-0209511c.css","./style-a13dfc58.js","../../assets/style-790ea523.css"],import.meta.url));this.$dialog.open(n,{data:{imageData:{file:r.target.result,subject_id:this.subjectId,subject_type:this.type}},props:{header:this.$t("Crop Cover"),class:"crop-cover-modal p-dialog-lg",modal:!0},onClose:t=>{if(t.data)switch(this.type){case"group":this.groupInfo.cover=t.data.cover;break;default:this.userInfo.cover=t.data.cover}u()}})},s.readAsDataURL(e.files[0])}},onInputClick(o){o.target.value=null}}};function h(o,e,s,r,n,t){const p=g("BaseIcon");return C(),_("button",{class:"inline-flex items-center gap-1 bg-gray-trans-4 text-white rounded p-1",onClick:e[2]||(e[2]=a=>o.$refs.cover.click())},[I(p,{name:"camera"}),b("input",{type:"file",ref:"cover",onChange:e[0]||(e[0]=a=>t.uploadCover(a)),onClick:e[1]||(e[1]=a=>t.onInputClick(a)),accept:"image/*",class:"hidden"},null,544)])}const B=f(y,[["render",h]]);export{B};
