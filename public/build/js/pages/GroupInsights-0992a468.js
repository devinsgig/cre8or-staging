import{j as p,m as c,aD as u,aE as v,_ as f,y as _,u as g,r as h,o as n,c as d,b as e,t as s,d as o,h as b,F as m}from"../../assets/app-8df99815.js";import{s as w}from"./chart.esm-17c946be.js";const k={props:["adminConfig"],components:{BaseIcon:p,Chart:w},data(){return{overviewData:null,chartData:null,memberChartData:null,postChartData:null,chartOptions:null}},computed:{...c(_,["user"]),...c(g,["darkmode"]),tickColor(){return this.darkmode==="on"?"#fff":"#333"},surfaceBorder(){return this.darkmode==="on"?"#ffffff26":"#e0e0e0"}},watch:{darkmode(){this.setChatOptions()}},mounted(){this.handleGetGroupOverview(this.adminConfig.group.id),this.handleGetChartData(this.adminConfig.group.id)},methods:{async handleGetGroupOverview(t){try{const r=await u(t);this.overviewData=r}catch(r){this.showError(r.error)}},async handleGetChartData(t){try{const r=await v(t);this.chartData=r,this.setChartMembersData(),this.setChartPostsData(),this.setChatOptions()}catch(r){this.showError(r.error)}},setChartMembersData(){this.memberChartData={labels:this.chartData.member.label,datasets:[{label:this.$t("Members"),data:this.chartData.member.data,fill:!1,borderColor:"#396AFF",tension:.4}]}},setChartPostsData(){this.postChartData={labels:this.chartData.post.label,datasets:[{label:this.$t("Posts"),data:this.chartData.post.data,fill:!1,borderColor:"#396AFF",tension:.4}]}},setChatOptions(){const t=this.surfaceBorder;this.chartOptions={plugins:{legend:{display:!1}},scales:{x:{ticks:{color:this.tickColor},grid:{display:!1}},y:{ticks:{color:this.tickColor,stepSize:1},grid:{color:t}}}}}}},C={key:0,class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},D={class:"text-main-color text-base-lg font-extrabold dark:text-white mb-base-2"},x={class:"mb-base-2"},y={class:"flex items-center gap-base-2 py-base-2 border-t border-divider dark:border-white/10"},O={class:"flex-1"},B={class:"flex items-center gap-base-2 py-base-2 border-t border-divider dark:border-white/10"},G={class:"flex-1"},F={class:"flex items-center gap-base-2 py-base-2 border-t border-divider dark:border-white/10"},$={class:"flex-1"},A={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},E={class:"text-main-color text-base-lg font-extrabold dark:text-white mb-base-2"},M={class:"mb-base-2"},S={class:"main-content-section bg-white border border-white text-main-color rounded-none md:rounded-base-lg p-5 mb-base-2 dark:bg-slate-800 dark:border-slate-800 dark:text-white"},I={class:"text-main-color text-base-lg font-extrabold dark:text-white mb-base-2"},N={class:"mb-base-2"};function P(t,r,L,V,a,j){const i=h("BaseIcon"),l=h("Chart");return n(),d(m,null,[a.overviewData?(n(),d("div",C,[e("h3",D,s(t.$t("Overview")),1),e("div",x,s(t.$t("Last 28 days")),1),e("div",y,[o(i,{name:"globe",cursor:!1}),e("div",O,s(t.$t("Engagement")),1),e("div",null,s(a.overviewData.engagement),1)]),e("div",B,[o(i,{name:"users",cursor:!1}),e("div",G,s(t.$t("New Members")),1),e("div",null,s(a.overviewData.member_new),1)]),e("div",F,[o(i,{name:"check_circle",cursor:!1}),e("div",$,s(t.$t("Active members")),1),e("div",null,s(a.overviewData.member_active),1)])])):b("",!0),a.chartData?(n(),d(m,{key:1},[e("div",A,[e("h3",E,s(t.$t("Members")),1),e("div",M,s(t.$t("Last 7 days")),1),e("div",null,[o(l,{type:"line",data:a.memberChartData,options:a.chartOptions},null,8,["data","options"])])]),e("div",S,[e("h3",I,s(t.$t("Posts")),1),e("div",N,s(t.$t("Last 7 days")),1),e("div",null,[o(l,{type:"line",data:a.postChartData,options:a.chartOptions},null,8,["data","options"])])])],64)):b("",!0)],64)}const q=f(k,[["render",P]]);export{q as default};
