import{_,U as m,j as p,a8 as g,bC as b,r as a,o as n,c as i,d as c,w as y,b as f,t as h,e as L,h as U}from"../../assets/app-8df99815.js";const w={components:{UsersList:m,BaseIcon:p},props:["search_type","type","query"],data(){return{mentionChar:g.MENTION,error:null,queryData:this.query,loading_users:!0,searchUsersList:[],currentPage:1}},mounted(){this.getSearchUsersList(this.queryData,this.currentPage)},watch:{$route(){this.queryData=window._.isNil(this.$route.query.q)?"":this.$route.query.q,this.currentPage=1,this.queryData&&this.getSearchUsersList(this.queryData,this.currentPage)}},methods:{async getSearchUsersList(e,t){try{const s=await b(this.search_type,e,this.type,t);return this.currentPage===1?this.searchUsersList=s:this.searchUsersList=window._.concat(this.searchUsersList,s),s}catch(s){this.showError(s.error)}finally{this.loading_users=!1}},loadMoreUsers(e){this.getSearchUsersList(this.queryData,++this.currentPage).then(t=>{t.length===0?e.complete():e.loaded()})}}},x={class:"bg-white p-base-2 rounded-none md:rounded-base-lg mb-base-2 dark:bg-slate-800"},q={class:"users-list-item-content-sub list_items_sub_text_color text-xs text-sub-color mb-1 dark:text-slate-400 truncate"},S={key:0,class:"users-list-item-content-sub list_items_sub_text_color flex items-center text-xs text-sub-color dark:text-slate-400"};function D(e,t,s,N,r,u){const l=a("BaseIcon"),d=a("UsersList");return n(),i("div",x,[c(d,{loading:r.loading_users,usersList:r.searchUsersList,"has-load-more":!0,onLoadMore:u.loadMoreUsers,"auto-load-more":!0},{sub_text:y(({user:o})=>[f("p",q,h(r.mentionChar+o.user_name),1),o.show_follower?(n(),i("p",S,[c(l,{name:"users",size:"16",class:"me-1"}),L(h(e.$filters.numberShortener(o.follower_count,e.$t("[number] follower"),e.$t("[number] followers"))),1)])):U("",!0)]),_:1},8,["loading","usersList","onLoadMore"])])}const B=_(w,[["render",D]]);export{B as default};
