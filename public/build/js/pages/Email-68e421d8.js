import{_ as g,L as h,B as f,co as b,cp as y,r as i,o as n,g as p,c as u,b as l,t as o,d as r,h as v,w,$ as B,e as S}from"../../assets/app-8df99815.js";import{B as E}from"./BaseSwitch-3591db5b.js";const V={components:{BaseSwitch:E,Loading:h,BaseButton:f},mounted(){this.getEmailSettings()},data(){return{loading_status:!0,email_enable:!0,daily_email_enable:!0,loading:!1}},methods:{async getEmailSettings(){try{const e=await b();return this.email_enable=e.email_enable,this.daily_email_enable=e.daily_email_enable,this.loading_status=!1,e}catch{this.loading_status=!1}},async saveEmailSettings(){if(!this.loading){this.loading=!0;try{var e={email_enable:this.email_enable,daily_email_enable:this.daily_email_enable};await y(e),this.showSuccess(this.$t("Your changes have been saved."))}catch(a){this.showError(a.error)}finally{this.loading=!1}}}}},k={class:"flex gap-5 justify-between mb-5"},x={key:0},L={class:"flex gap-5 justify-between mb-5"};function N(e,a,C,U,t,m){const _=i("Loading"),d=i("BaseSwitch"),c=i("BaseButton");return t.loading_status?(n(),p(_,{key:0})):(n(),u("form",{key:1,onSubmit:a[2]||(a[2]=B((...s)=>m.saveEmailSettings&&m.saveEmailSettings(...s),["prevent"]))},[l("div",k,[l("h4",null,o(e.$t("Unsubscribe from all mailings")),1),l("div",null,[r(d,{modelValue:t.email_enable,"onUpdate:modelValue":a[0]||(a[0]=s=>t.email_enable=s)},null,8,["modelValue"])])]),t.email_enable?(n(),u("div",x,[l("div",L,[l("h4",null,o(e.$t("Daily email notification (Get emails to find out what’s going on when you’re not on system. You can turn them off anytime)")),1),l("div",null,[r(d,{modelValue:t.daily_email_enable,"onUpdate:modelValue":a[1]||(a[1]=s=>t.daily_email_enable=s)},null,8,["modelValue"])])])])):v("",!0),r(c,{loading:t.loading,class:"w-full"},{default:w(()=>[S(o(e.$t("Save")),1)]),_:1},8,["loading"])],32))}const Y=g(V,[["render",N]]);export{Y as default};
