import{_ as p,o as t,c as o,b as y,L as k,s as b,bW as x,bX as C,r as l,d as B,g,F as i,f as d,t as m}from"../../assets/app-8df99815.js";import{S as I}from"./SongItem-3bef75af.js";const w={props:{modelValue:{type:String,default:"#fff"}},methods:{onInput(e){this.$emit("update:modelValue",e.target.value),this.$emit("change",e.target.value)}},emits:["update:modelValue","change"]},L={class:"base-color-picker"},V=["value"];function $(e,s,h,_,r,a){return t(),o("div",L,[y("input",{type:"color",value:h.modelValue,onInput:s[0]||(s[0]=c=>a.onInput(c))},null,40,V)])}const q=p(w,[["render",$]]);var S=null;const T={components:{SongItem:I,Loading:k,BaseInputText:b},data(){return{defaultSongs:[],isSearching:!1,isLoadingSearch:!0,searchSongs:[],isShownSearchBox:!1,searchContent:""}},mounted(){this.getStoriesConfig()},methods:{async getStoriesConfig(){try{const e=await x();this.defaultSongs=e.songs}catch(e){this.showError(e.error)}},async getSongs(e){try{const s=await C(e);this.searchSongs=s,this.isLoadingSearch=!1}catch(s){this.showError(s.error),this.isLoadingSearch=!1}},onEnterSearch(){if(this.searchContent.trim()!=""){clearTimeout(S);var e=this;S=setTimeout(function(){e.searchContent.trim()!=""&&e.getSongs(e.searchContent)},600),this.isSearching=!0}else this.isSearching=!1},selectSong(e){this.$emit("select_song",e)}},emits:["select_song"]},E={class:"bg-white text-main-color rounded-base-lg p-base-2 dark:text-white dark:bg-slate-800"},N={key:0,class:"mt-base-2"},F={key:0,class:"max-h-32 overflow-auto pe-1 scrollbar-thin mt-base-2"},D={key:1,class:"text-center"},P={key:0,class:"max-h-32 overflow-auto pe-1 scrollbar-thin mt-base-2"},U={key:1,class:"text-center mt-base-2"};function W(e,s,h,_,r,a){const c=l("BaseInputText"),f=l("Loading"),u=l("SongItem");return t(),o("div",E,[B(c,{placeholder:e.$t("Search Song"),left_icon:"search",modelValue:r.searchContent,"onUpdate:modelValue":s[0]||(s[0]=n=>r.searchContent=n),onInput:s[1]||(s[1]=n=>a.onEnterSearch()),autofocus:!0},null,8,["placeholder","modelValue"]),r.isSearching?(t(),o("div",N,[r.isLoadingSearch?(t(),g(f,{key:0})):(t(),o(i,{key:1},[r.searchSongs.length>0?(t(),o("div",F,[(t(!0),o(i,null,d(r.searchSongs,n=>(t(),g(u,{key:n.id,song:n,onSelect_song_item:v=>a.selectSong(n)},null,8,["song","onSelect_song_item"]))),128))])):(t(),o("div",D,m(e.$t("No songs found")),1))],64))])):(t(),o(i,{key:1},[r.defaultSongs.length>0?(t(),o("div",P,[(t(!0),o(i,null,d(r.defaultSongs,n=>(t(),g(u,{key:n.id,song:n,onSelect_song_item:v=>a.selectSong(n)},null,8,["song","onSelect_song_item"]))),128))])):(t(),o("div",U,m(e.$t("No Songs")),1))],64))])}const z=p(T,[["render",W]]);export{q as B,z as S};
