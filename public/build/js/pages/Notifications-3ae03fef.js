import{_ as k,aH as g,L as x,B as V,cq as v,cr as N,r as _,o as i,g as B,c as a,b as l,t as d,d as m,F as w,f as p,h as C,w as I,$ as E,e as T}from"../../assets/app-8df99815.js";import{B as R}from"./BaseSwitch-3591db5b.js";const U={components:{BaseSwitch:R,BaseCheckbox:g,Loading:x,BaseButton:V},mounted(){this.getNotificationSettings()},data(){return{loading_status:!0,enable_notify:!0,posts:[],postsSelected:[],systems:[],systemsSelected:[],follows:[],followsSelected:[],chats:[],chatsSelected:[],stories:[],storiesSelected:[],paidContents:[],paidContentsSelected:[],loading:!1}},methods:{labelText(t){switch(t){case"comment":return this.$t("New Comment");case"reply":return this.$t("New Reply");case"like":return this.$t("New Like");case"mention":return this.$t("New Mention");case"share":return this.$t("New Share");case"invite":return this.$t("Notify when your invited users join");case"new_follow":return this.$t("New follower");case"chat_request":return this.$t("New chat request");case"story_end":return this.$t("When the story ends");case"new_subscriber":return this.$t("New subscriber");case"new_ppv_purchase":return this.$t("New pay per view purchase");default:return null}},async getNotificationSettings(){try{const t=await v();return this.enable_notify=t.enable_notify,this.posts=t.post,this.systems=t.system,this.chats=t.chat,this.follows=t.follow,this.stories=t.story,this.paidContents=t.paid_content,this.postsSelected=window._.map(t.post,function(s,r){if(s)return r}),this.systemsSelected=window._.map(t.system,function(s,r){if(s)return r}),this.followsSelected=window._.map(t.follow,function(s,r){if(s)return r}),this.chatsSelected=window._.map(t.chat,function(s,r){if(s)return r}),this.storiesSelected=window._.map(t.story,function(s,r){if(s)return r}),this.paidContentsSelected=window._.map(t.paid_content,function(s,r){if(s)return r}),this.loading_status=!1,t}catch{this.loading_status=!1}},async saveNotificationSetting(){if(!this.loading){this.loading=!0;try{var t={enable_notify:this.enable_notify},s=this.postsSelected,r=this.systemsSelected,y=this.chatsSelected,o=this.followsSelected,u=this.storiesSelected,b=this.paidContentsSelected;window._.forEach(this.posts,function(f,n){t[n]=window._.indexOf(s,n)!=-1}),window._.forEach(this.systems,function(f,n){t[n]=window._.indexOf(r,n)!=-1}),window._.forEach(this.follows,function(f,n){t[n]=window._.indexOf(o,n)!=-1}),window._.forEach(this.chats,function(f,n){t[n]=window._.indexOf(y,n)!=-1}),window._.forEach(this.stories,function(f,n){t[n]=window._.indexOf(u,n)!=-1}),window._.forEach(this.paidContents,function(f,n){t[n]=window._.indexOf(b,n)!=-1}),await N(t),this.showSuccess(this.$t("Your changes have been saved."))}catch(f){this.showError(f.error)}finally{this.loading=!1}}}}},L={class:"text-main-color dark:text-white"},O={class:"flex justify-between mb-5"},q={key:0},j={class:"font-bold mb-3 dark:text-slate-400"},F=["for"],M={class:"font-bold mb-3 dark:text-slate-400"},z=["for"],A={class:"font-bold mb-3 dark:text-slate-400"},D=["for"],H={class:"font-bold mb-3 dark:text-slate-400"},W=["for"],Y={class:"font-bold mb-3 dark:text-slate-400"},G=["for"],J={class:"font-bold mb-3 dark:text-slate-400"},K=["for"];function P(t,s,r,y,o,u){const b=_("Loading"),f=_("BaseSwitch"),n=_("BaseCheckbox"),S=_("BaseButton");return o.loading_status?(i(),B(b,{key:0})):(i(),a("form",{key:1,onSubmit:s[7]||(s[7]=E((...h)=>u.saveNotificationSetting&&u.saveNotificationSetting(...h),["prevent"]))},[l("div",L,[l("div",O,[l("h4",null,d(t.$t("All notification enabled")),1),m(f,{modelValue:o.enable_notify,"onUpdate:modelValue":s[0]||(s[0]=h=>o.enable_notify=h),size:"md"},null,8,["modelValue"])]),o.enable_notify?(i(),a("div",q,[l("h4",j,d(t.$t("Related to your posts and posts youâ€™re interacted with")),1),(i(!0),a(w,null,p(o.posts,(h,e)=>(i(),a("div",{key:e,class:"field-checkbox mb-3"},[m(n,{value:e,inputId:e,modelValue:o.postsSelected,"onUpdate:modelValue":s[1]||(s[1]=c=>o.postsSelected=c)},null,8,["value","inputId","modelValue"]),l("label",{for:e},d(u.labelText(e)),9,F)]))),128)),l("h4",M,d(t.$t("Related to system notifications")),1),(i(!0),a(w,null,p(o.systems,(h,e)=>(i(),a("div",{key:e,class:"field-checkbox mb-3"},[m(n,{value:e,inputId:e,modelValue:o.systemsSelected,"onUpdate:modelValue":s[2]||(s[2]=c=>o.systemsSelected=c)},null,8,["value","inputId","modelValue"]),l("label",{for:e},d(u.labelText(e)),9,z)]))),128)),l("h4",A,d(t.$t("Related to your followers")),1),(i(!0),a(w,null,p(o.follows,(h,e)=>(i(),a("div",{key:e,class:"field-checkbox mb-3"},[m(n,{value:e,inputId:e,modelValue:o.followsSelected,"onUpdate:modelValue":s[3]||(s[3]=c=>o.followsSelected=c)},null,8,["value","inputId","modelValue"]),l("label",{for:e},d(u.labelText(e)),9,D)]))),128)),l("h4",H,d(t.$t("Related to message")),1),(i(!0),a(w,null,p(o.chats,(h,e)=>(i(),a("div",{key:e,class:"field-checkbox mb-3"},[m(n,{value:e,inputId:e,modelValue:o.chatsSelected,"onUpdate:modelValue":s[4]||(s[4]=c=>o.chatsSelected=c)},null,8,["value","inputId","modelValue"]),l("label",{for:e},d(u.labelText(e)),9,W)]))),128)),l("h4",Y,d(t.$t("Related to story")),1),(i(!0),a(w,null,p(o.stories,(h,e)=>(i(),a("div",{key:e,class:"field-checkbox mb-3"},[m(n,{value:e,inputId:e,modelValue:o.storiesSelected,"onUpdate:modelValue":s[5]||(s[5]=c=>o.storiesSelected=c)},null,8,["value","inputId","modelValue"]),l("label",{for:e},d(u.labelText(e)),9,G)]))),128)),l("h4",J,d(t.$t("Related to paid content")),1),(i(!0),a(w,null,p(o.paidContents,(h,e)=>(i(),a("div",{key:e,class:"field-checkbox mb-3"},[m(n,{value:e,inputId:e,modelValue:o.paidContentsSelected,"onUpdate:modelValue":s[6]||(s[6]=c=>o.paidContentsSelected=c)},null,8,["value","inputId","modelValue"]),l("label",{for:e},d(u.labelText(e)),9,K)]))),128))])):C("",!0),m(S,{loading:o.loading,class:"w-full"},{default:I(()=>[T(d(t.$t("Save")),1)]),_:1},8,["loading"])])],32))}const Z=k(U,[["render",P]]);export{Z as default};
